<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Dr. Luis Benites   lbenitess@pucp.edu.pe" />
  <title>EST266: Minería de datos:   Prep. y analis. explor. de datos  Clase 1: Visualización</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Clase1_files/reveal.js-3.3.0.1/css/reveal.css"/>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #ffffff; color: #1f1c1b; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #ffffff; color: #a0a0a0; border-right: 1px solid #a0a0a0; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #1f1c1b; background-color: #ffffff; }
code > span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code > span.dt { color: #0057ae; } /* DataType */
code > span.dv { color: #b08000; } /* DecVal */
code > span.bn { color: #b08000; } /* BaseN */
code > span.fl { color: #b08000; } /* Float */
code > span.cn { color: #aa5500; } /* Constant */
code > span.ch { color: #924c9d; } /* Char */
code > span.sc { color: #3daee9; } /* SpecialChar */
code > span.st { color: #bf0303; } /* String */
code > span.vs { color: #bf0303; } /* VerbatimString */
code > span.ss { color: #ff5500; } /* SpecialString */
code > span.im { color: #ff5500; } /* Import */
code > span.co { color: #898887; } /* Comment */
code > span.do { color: #607880; } /* Documentation */
code > span.an { color: #ca60ca; } /* Annotation */
code > span.cv { color: #0095ff; } /* CommentVar */
code > span.ot { color: #006e28; } /* Other */
code > span.fu { color: #644a9b; } /* Function */
code > span.va { color: #0057ae; } /* Variable */
code > span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code > span.op { color: #1f1c1b; } /* Operator */
code > span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code > span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code > span.pp { color: #006e28; } /* Preprocessor */
code > span.at { color: #0057ae; } /* Attribute */
code > span.re { color: #0057ae; } /* RegionMarker */
code > span.in { color: #b08000; } /* Information */
code > span.wa { color: #bf0303; } /* Warning */
code > span.al { color: #bf0303; font-weight: bold; } /* Alert */
code > span.er { color: #bf0303; text-decoration: underline; } /* Error */
code > span. { color: #1f1c1b; } /* Normal */
</style>

<link rel="stylesheet" href="Clase1_files/reveal.js-3.3.0.1/css/theme/league.css" id="theme">


  <!-- some tweaks to reveal css -->
  <style type="text/css">
    .reveal h1 { font-size: 2.0em; }
    .reveal h2 { font-size: 1.5em;  }
    .reveal h3 { font-size: 1.25em;	}
    .reveal h4 { font-size: 1em;	}

    .reveal .slides>section,
    .reveal .slides>section>section {
      padding: 0px 0px;
    }



    .reveal table {
      border-width: 1px;
      border-spacing: 2px;
      border-style: dotted;
      border-color: gray;
      border-collapse: collapse;
      font-size: 0.7em;
    }

    .reveal table th {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      font-weight: bold;
      border-style: dotted;
      border-color: gray;
    }

    .reveal table td {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      border-style: dotted;
      border-color: gray;
    }


  </style>

    <style type="text/css">code{white-space: pre;}</style>

    <link rel="stylesheet" href="logo.css"/>
    <link rel="stylesheet" href="style.css"/>

<!-- Printing and PDF exports -->
<script id="paper-css" type="application/dynamic-css">

/* Default Print Stylesheet Template
   by Rob Glazebrook of CSSnewbie.com
   Last Updated: June 4, 2008

   Feel free (nay, compelled) to edit, append, and
   manipulate this file as you see fit. */


@media print {

	/* SECTION 1: Set default width, margin, float, and
	   background. This prevents elements from extending
	   beyond the edge of the printed page, and prevents
	   unnecessary background images from printing */
	html {
		background: #fff;
		width: auto;
		height: auto;
		overflow: visible;
	}
	body {
		background: #fff;
		font-size: 20pt;
		width: auto;
		height: auto;
		border: 0;
		margin: 0 5%;
		padding: 0;
		overflow: visible;
		float: none !important;
	}

	/* SECTION 2: Remove any elements not needed in print.
	   This would include navigation, ads, sidebars, etc. */
	.nestedarrow,
	.controls,
	.fork-reveal,
	.share-reveal,
	.state-background,
	.reveal .progress,
	.reveal .backgrounds {
		display: none !important;
	}

	/* SECTION 3: Set body font face, size, and color.
	   Consider using a serif font for readability. */
	body, p, td, li, div {
		font-size: 20pt!important;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		color: #000;
	}

	/* SECTION 4: Set heading font face, sizes, and color.
	   Differentiate your headings from your body text.
	   Perhaps use a large sans-serif for distinction. */
	h1,h2,h3,h4,h5,h6 {
		color: #000!important;
		height: auto;
		line-height: normal;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		text-shadow: 0 0 0 #000 !important;
		text-align: left;
		letter-spacing: normal;
	}
	/* Need to reduce the size of the fonts for printing */
	h1 { font-size: 28pt !important;  }
	h2 { font-size: 24pt !important; }
	h3 { font-size: 22pt !important; }
	h4 { font-size: 22pt !important; font-variant: small-caps; }
	h5 { font-size: 21pt !important; }
	h6 { font-size: 20pt !important; font-style: italic; }

	/* SECTION 5: Make hyperlinks more usable.
	   Ensure links are underlined, and consider appending
	   the URL to the end of the link for usability. */
	a:link,
	a:visited {
		color: #000 !important;
		font-weight: bold;
		text-decoration: underline;
	}
	/*
	.reveal a:link:after,
	.reveal a:visited:after {
		content: " (" attr(href) ") ";
		color: #222 !important;
		font-size: 90%;
	}
	*/


	/* SECTION 6: more reveal.js specific additions by @skypanther */
	ul, ol, div, p {
		visibility: visible;
		position: static;
		width: auto;
		height: auto;
		display: block;
		overflow: visible;
		margin: 0;
		text-align: left !important;
	}
	.reveal pre,
	.reveal table {
		margin-left: 0;
		margin-right: 0;
	}
	.reveal pre code {
		padding: 20px;
		border: 1px solid #ddd;
	}
	.reveal blockquote {
		margin: 20px 0;
	}
	.reveal .slides {
		position: static !important;
		width: auto !important;
		height: auto !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 0 !important;
		zoom: 1 !important;

		overflow: visible !important;
		display: block !important;

		text-align: left !important;
		-webkit-perspective: none;
		   -moz-perspective: none;
		    -ms-perspective: none;
		        perspective: none;

		-webkit-perspective-origin: 50% 50%;
		   -moz-perspective-origin: 50% 50%;
		    -ms-perspective-origin: 50% 50%;
		        perspective-origin: 50% 50%;
	}
	.reveal .slides section {
		visibility: visible !important;
		position: static !important;
		width: auto !important;
		height: auto !important;
		display: block !important;
		overflow: visible !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 60px 20px !important;
		z-index: auto !important;

		opacity: 1 !important;

		page-break-after: always !important;

		-webkit-transform-style: flat !important;
		   -moz-transform-style: flat !important;
		    -ms-transform-style: flat !important;
		        transform-style: flat !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;

		-webkit-transition: none !important;
		   -moz-transition: none !important;
		    -ms-transition: none !important;
		        transition: none !important;
	}
	.reveal .slides section.stack {
		padding: 0 !important;
	}
	.reveal section:last-of-type {
		page-break-after: avoid !important;
	}
	.reveal section .fragment {
		opacity: 1 !important;
		visibility: visible !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;
	}
	.reveal section img {
		display: block;
		margin: 15px 0px;
		background: rgba(255,255,255,1);
		border: 1px solid #666;
		box-shadow: none;
	}

	.reveal section small {
		font-size: 0.8em;
	}

}  
</script>


<script id="pdf-css" type="application/dynamic-css">
    
/**
 * This stylesheet is used to print reveal.js
 * presentations to PDF.
 *
 * https://github.com/hakimel/reveal.js#pdf-export
 */

* {
	-webkit-print-color-adjust: exact;
}

body {
	margin: 0 auto !important;
	border: 0;
	padding: 0;
	float: none !important;
	overflow: visible;
}

html {
	width: 100%;
	height: 100%;
	overflow: visible;
}

/* Remove any elements not needed in print. */
.nestedarrow,
.reveal .controls,
.reveal .progress,
.reveal .playback,
.reveal.overview,
.fork-reveal,
.share-reveal,
.state-background {
	display: none !important;
}

h1, h2, h3, h4, h5, h6 {
	text-shadow: 0 0 0 #000 !important;
}

.reveal pre code {
	overflow: hidden !important;
	font-family: Courier, 'Courier New', monospace !important;
}

ul, ol, div, p {
	visibility: visible;
	position: static;
	width: auto;
	height: auto;
	display: block;
	overflow: visible;
	margin: auto;
}
.reveal {
	width: auto !important;
	height: auto !important;
	overflow: hidden !important;
}
.reveal .slides {
	position: static;
	width: 100%;
	height: auto;

	left: auto;
	top: auto;
	margin: 0 !important;
	padding: 0 !important;

	overflow: visible;
	display: block;

	-webkit-perspective: none;
	   -moz-perspective: none;
	    -ms-perspective: none;
	        perspective: none;

	-webkit-perspective-origin: 50% 50%; /* there isn't a none/auto value but 50-50 is the default */
	   -moz-perspective-origin: 50% 50%;
	    -ms-perspective-origin: 50% 50%;
	        perspective-origin: 50% 50%;
}

.reveal .slides section {
	page-break-after: always !important;

	visibility: visible !important;
	position: relative !important;
	display: block !important;
	position: relative !important;

	margin: 0 !important;
	padding: 0 !important;
	box-sizing: border-box !important;
	min-height: 1px;

	opacity: 1 !important;

	-webkit-transform-style: flat !important;
	   -moz-transform-style: flat !important;
	    -ms-transform-style: flat !important;
	        transform-style: flat !important;

	-webkit-transform: none !important;
	   -moz-transform: none !important;
	    -ms-transform: none !important;
	        transform: none !important;
}

.reveal section.stack {
	margin: 0 !important;
	padding: 0 !important;
	page-break-after: avoid !important;
	height: auto !important;
	min-height: auto !important;
}

.reveal img {
	box-shadow: none;
}

.reveal .roll {
	overflow: visible;
	line-height: 1em;
}

/* Slide backgrounds are placed inside of their slide when exporting to PDF */
.reveal section .slide-background {
	display: block !important;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	z-index: -1;
}

/* All elements should be above the slide-background */
.reveal section>* {
	position: relative;
	z-index: 1;
}

/* Display slide speaker notes when 'showNotes' is enabled */
.reveal .speaker-notes-pdf {
	display: block;
	width: 100%;
	max-height: none;
	left: auto;
	top: auto;
	z-index: 100;
}

/* Display slide numbers when 'slideNumber' is enabled */
.reveal .slide-number-pdf {
	display: block;
	position: absolute;
	font-size: 14px;
}

</script>


<script>
var style = document.createElement( 'style' );
style.type = 'text/css';
var style_script_id = window.location.search.match( /print-pdf/gi ) ? 'pdf-css' : 'paper-css';
var style_script = document.getElementById(style_script_id).text;
style.innerHTML = style_script;
document.getElementsByTagName('head')[0].appendChild(style);
</script>

</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
    <h1 class="title">EST266: Minería de datos: <br> Prep. y analis. explor. de datos <br>Clase 1: Visualización</h1>
    <h2 class="author">Dr. Luis Benites <br> <a href="mailto:lbenitess@pucp.edu.pe">lbenitess@pucp.edu.pe</a></h2>
    <h3 class="date">16 de mayo del 2019 <br> <img id='logopucp' src='logoPUCP.jpg'></h3>
</section>

<section id="libros-recomendados" class="slide level2">
<h2>Libros recomendados</h2>
<p><img src="images/book1.jpg" width="35%" /></p>
<p>Un resumen único de formas, diseño, percepción y tecnología, muy bien ilustrado. <a href="https://www.amazon.es/Design-Information-Introduction-Histories-Visualizations/dp/1592538061">link de amazon</a></p>
</section>
<section id="libros-recomendados-1" class="slide level2">
<h2>Libros recomendados</h2>
<p><img src="images/book2.jpg" width="35%" /></p>
<p>Una gran introducción y visión general, con mucha percepción.</p>
<p><a href="https://www.amazon.es/Storytelling-Data-Visualization-Business-Professionals/dp/1119002257">link de amazon</a></p>
</section>
<section id="libros-recomendados-2" class="slide level2">
<h2>Libros recomendados</h2>
<p><img src="images/book3.jpg" width="35%" /></p>
<p>Ciertamente, la mejor introducción individual de gráficos interactivos con D3, este libro no asume ningún conocimiento previo de codificación web.</p>
<p><a href="http://shop.oreilly.com/product/0636920037316.do">link de la editorial</a></p>
</section>
<section id="libros-recomendados-3" class="slide level2">
<h2>Libros recomendados</h2>
<p><img src="images/book4.jpg" width="25%" /></p>
<p>AED se menciona en dos lugares porque es tanto una gran guía para pensar analíticamente como también para visualizar para el análisis e inventar nuevas técnicas que son simples, rápidas pero también informativas.</p>
<p><a href="https://www.amazon.com/Exploratory-Data-Analysis-John-Tukey/dp/0201076160">link de amazon</a></p>
</section>
<section id="timeline" class="slide level2">
<h2>Timeline</h2>
<ul>
<li><p>Veamos una página en la que nos proporciona una descripción gráfica de los eventos en el historial de visualización de datos que llamamos “hitos”.</p></li>
<li><p>Estos hitos se muestran a continuación en forma de una línea de tiempo interactiva. La línea de tiempo se divide en dos secciones verticales.</p></li>
<li><p><a href="http://www.datavis.ca/milestones/">Link</a> del timeline.</p></li>
</ul>
</section>
<section id="introduccion" class="slide level2">
<h2>Introducción</h2>
<ul>
<li><p>Cuando analizamos datos, representamos toda la complejidad del mundo y nuestros intentos de entender cómo funciona, en números.</p></li>
<li><p>Al hacerlo, perdemos algunos detalles: elegimos qué cuantificar y qué dejar atrás, pero ganamos objetividad.</p></li>
<li><p>Con los métodos estadísticos modernos, podemos detectar una gran variedad de patrones en medio del ruido y superar los sesgos cognitivos que nos confunden.</p></li>
</ul>
</section>
<section id="introduccion-1" class="slide level2">
<h2>Introducción</h2>
<ul>
<li><p>Sin embargo, hay límites a lo que se puede ver en una lista o incluso en una tabla de números.</p></li>
<li><p>Cuando los números nos abruman, una imagen puede ayudarnos a detectar lo que realmente nos interesa.</p></li>
<li><ul>
<li>A veces, el patrón que estamos buscando puede ser complejo, e incluso con solo unos pocos números todavía no podemos entenderlo hasta que se dibuja. ¿Por qué las imágenes ayudan tanto cuando parecen fundamentalmente diferentes de los números?</li>
</ul></li>
</ul>
</section>
<section id="introduccion-2" class="slide level2">
<h2>Introducción</h2>
<ul>
<li><p>Una explicación es que los humanos hemos estado usando nuestros ojos para encontrar alimento y refugio, y evitar a los depredadores, durante mucho tiempo, y la parte del cerebro que procesa la información visual está extremadamente bien desarrollada.</p></li>
<li><p>En contraste, hemos estado escribiendo y leyendo números por menos tiempo. Sería un error no aprovechar el increíble poder de nuestros ojos y cerebro cuando necesitamos entender los datos.</p></li>
</ul>
</section>
<section id="introduccion-3" class="slide level2">
<h2>Introducción</h2>
<ul>
<li><p>Puede parecer que dibujar cuadros y mapas pertenece a las artes un poco más que a las ciencias. Esto realmente no es cierto: no hay nada menos científico sobre una imagen, pero hay algo malo en representar datos de una manera que el público no pueda entender.</p></li>
<li><p>La mayoría de las veces, no existe una mejor manera de visualizar los datos, lo que dificulta el trabajo, pero también lo hace más interesante. El estadístico John Tukey escribió en 1977: “Los objetivos pueden diferir, y los gráficos [las visualizaciones] deberían seguir los objetivos”.</p></li>
</ul>
</section>
<section id="introduccion-4" class="slide level2">
<h2>Introducción</h2>
<ul>
<li><p>La visualización no solo es útil para comunicar mensajes, sino también para que el analista comprenda sus datos en profundidad.</p></li>
<li><p>Las estadísticas solo nos llevan tan lejos en este sentido. Imaginemos que tenemos datos sobre dos variables.</p></li>
<li><p>Con eso quiero decir que tenemos una serie de mediciones con dos valores en cada una. Podríamos estar midiendo la altura y el peso de las personas que participan en algún estudio, o los niveles de desempleo y falta de vivienda en varias ciudades.</p></li>
</ul>
</section>
<section id="introduccion-5" class="slide level2">
<h2>Introducción</h2>
<ul>
<li><p>Por ahora, solo vamos a imaginar una situación abstracta en la que la computadora me diga las estadísticas básicas que describen estas dos variables: los números que los estadísticos como yo generarían para ayudarles a comprender los datos.</p></li>
<li><p>Me dice que la variable <span class="math inline">\(X\)</span> tiene una media de <span class="math inline">\(50.7\)</span> y la variable <span class="math inline">\(Y\)</span> tiene una media de <span class="math inline">\(46.5\)</span>, por lo que los valores de <span class="math inline">\(X\)</span> son un poco más grandes que los de <span class="math inline">\(Y\)</span>. También aprendí que las desviaciones estándar son <span class="math inline">\(19.6\)</span> y <span class="math inline">\(27.3\)</span>, por lo que los valores de <span class="math inline">\(Y\)</span> están un poco más dispersos que los de <span class="math inline">\(X\)</span>.</p></li>
</ul>
</section>
<section id="introduccion-6" class="slide level2">
<h2>Introducción</h2>
<ul>
<li><p>Además tienen una correlación de Pearson de -0.18, lo que me dice que a medida que los valores de <span class="math inline">\(X\)</span> aumentan, los valores de <span class="math inline">\(Y\)</span> tienden a disminuir ligeramente.</p></li>
<li><p>Es cierto que cuando recopila datos de la vida real, es poco probable que se parezca al Datasaurus.</p></li>
</ul>
</section>
<section id="introduccion-7" class="slide level2">
<h2>Introducción</h2>
<p><img src="images/datasaurus.JPG" width="65%" /></p>
<p>Site: <a href="http://robertgrantstats.co.uk/drawmydata.html" class="uri">http://robertgrantstats.co.uk/drawmydata.html</a></p>
</section>
<section id="introduccion-8" class="slide level2">
<h2>Introducción</h2>
<ul>
<li>Las visualizaciones son especialmente útiles para esto en las primeras etapas de análisis. Es una buena práctica en el análisis de datos generar muchos gráficos, mapas y otras visualizaciones relevantes para su propio beneficio.</li>
</ul>
</section>
<section id="introduccion-9" class="slide level2">
<h2>Introducción</h2>
<ul>
<li><p>El pionero de la visualización “William Cleveland” escribió: “Los métodos gráficos tienden a mostrar conjuntos de datos en conjunto, lo que nos permite resumir el comportamiento general y estudiar los detalles. Esto lleva a un análisis de datos mucho más completo”.</p></li>
<li><p>Solo con las estadísticas, normalmente se obtiene el comportamiento general, pero se pierden los detalles. Un ejemplo clásico de esto son los cuatro conjuntos de datos artificiales creados por el estadístico Frank Anscombe, que tienen las mismas medias, desviaciones estándar y correlaciones.</p></li>
</ul>
</section>
<section id="introduccion-10" class="slide level2">
<h2>Introducción</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ff &lt;-<span class="st"> </span>y <span class="op">~</span><span class="st"> </span>x
mods &lt;-<span class="st"> </span><span class="kw">setNames</span>(<span class="kw">as.list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>), <span class="kw">paste0</span>(<span class="st">&quot;lm&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>))
<span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {
  ff[<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>] &lt;-<span class="st"> </span><span class="kw">lapply</span>(<span class="kw">paste0</span>(<span class="kw">c</span>(<span class="st">&quot;y&quot;</span>,<span class="st">&quot;x&quot;</span>), i), as.name)
  mods[[i]] &lt;-<span class="st"> </span>lmi &lt;-<span class="st"> </span><span class="kw">lm</span>(ff, <span class="dt">data =</span> anscombe)
  <span class="kw">print</span>(<span class="kw">anova</span>(lmi))
}
<span class="kw">library</span>(svglite)
svglite<span class="op">::</span><span class="kw">svglite</span>(<span class="st">&#39;1-anscombe.svg&#39;</span>)
op &lt;-<span class="st"> </span><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>), <span class="dt">mar =</span> <span class="fl">0.1</span><span class="op">+</span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="dt">oma =</span>  <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">0</span>))
<span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {
  ff[<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>] &lt;-<span class="st"> </span><span class="kw">lapply</span>(<span class="kw">paste0</span>(<span class="kw">c</span>(<span class="st">&quot;y&quot;</span>,<span class="st">&quot;x&quot;</span>), i), as.name)
  <span class="kw">plot</span>(ff, <span class="dt">data =</span> anscombe, <span class="dt">pch=</span><span class="dv">19</span>,<span class="dt">col=</span><span class="st">&#39;#00000088&#39;</span>,<span class="dt">xlab=</span><span class="st">&#39;X&#39;</span>,<span class="dt">ylab=</span><span class="st">&#39;Y&#39;</span>,
       <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">19</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">13</span>))
  <span class="kw">abline</span>(mods[[i]])
}
<span class="kw">par</span>(op)
<span class="kw">dev.off</span>()</code></pre></div>
</section>
<section id="introduccion-11" class="slide level2">
<h2>Introducción</h2>
<pre><code>## Analysis of Variance Table
## 
## Response: y1
##           Df Sum Sq Mean Sq F value  Pr(&gt;F)   
## x1         1 27.510 27.5100   17.99 0.00217 **
## Residuals  9 13.763  1.5292                   
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## Analysis of Variance Table
## 
## Response: y2
##           Df Sum Sq Mean Sq F value   Pr(&gt;F)   
## x2         1 27.500 27.5000  17.966 0.002179 **
## Residuals  9 13.776  1.5307                    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## Analysis of Variance Table
## 
## Response: y3
##           Df Sum Sq Mean Sq F value   Pr(&gt;F)   
## x3         1 27.470 27.4700  17.972 0.002176 **
## Residuals  9 13.756  1.5285                    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## Analysis of Variance Table
## 
## Response: y4
##           Df Sum Sq Mean Sq F value   Pr(&gt;F)   
## x4         1 27.490 27.4900  18.003 0.002165 **
## Residuals  9 13.742  1.5269                    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<pre><code>## png 
##   2</code></pre>
</section>
<section id="introduccion-12" class="slide level2">
<h2>Introducción</h2>
<p><img src="images/figure1.3.JPG" width="65%" /></p>
</section>
<section id="caja-de-herramientas" class="slide level2">
<h2>Caja de herramientas</h2>
<ul>
<li>Usar un lenguaje de programación enfocado a datos como R o Python.</li>
<li>Edición SVG en el editor de texto, así como una interfaz gráfica como Inkscape, Illustrator o CorelDraw.</li>
<li>Dibujar a mano.</li>
<li>Bibliotecas de JavaScript relevantes - actualmente, D3 y Leaflet serían la opción.</li>
<li>Una herramienta de mapeo en línea, como Mapbox.</li>
<li>Un programa versátil para big data y datos rápidos, como Spark</li>
</ul>
</section>
<section id="haciendo-un-bosquejo" class="slide level2">
<h2>Haciendo un bosquejo</h2>
<ul>
<li><p>Debido a que debe elegir entre una gran cantidad de diseños y formatos de la competencia, deberá bosquejar algunos y discutirlos.</p></li>
<li><p>A menudo, la forma más rápida y flexible de hacerlo es a mano, no con ningún software.</p></li>
</ul>
</section>
<section id="haciendo-un-bosquejo-1" class="slide level2">
<h2>Haciendo un bosquejo</h2>
<p><img src="images/mapa1.PNG" width="80%" /></p>
<p>El primer paso para esbozar una idea para visualizar datos sobre la distancia recorrida por los pasajeros de la ciudad de Atlanta, Georgia, Estados Unidos: el autor usó un papel calca para obtener información mínima de un mapa impreso. Elegió los límites de la ciudad, sombreado para áreas edificadas, azul para embalses y lagos, y naranja para las carreteras principales.</p>
</section>
<section id="haciendo-un-bosquejo-2" class="slide level2">
<h2>Haciendo un bosquejo</h2>
<div id="left">
<p><img src="images/mapa2.PNG" width="80%" /></p>
<font size="5">
<p class="small">
</p>
</font>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<p>Paso dos: adjuntó el papel calca a una hoja de papel en blanco y una hoja de transparencia de acetato en la parte superior.</p>
</p>
</font>
</div>
</div>
</section>
<section id="haciendo-un-bosquejo-3" class="slide level2">
<h2>Haciendo un bosquejo</h2>
<div id="left">
<p><img src="images/mapa3.PNG" width="80%" /></p>
<font size="5">
<p class="small">
</p>
</font>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<p>Paso tres: Dibujó anillos en la transparencia a intervalos de diez millas alrededor de un punto central. Esto relaciona la división de datos directamente con el mundo real.</p>
</p>
</font>
</div>
</div>
</section>
<section id="haciendo-un-bosquejo-4" class="slide level2">
<h2>Haciendo un bosquejo</h2>
<div id="left">
<p><img src="images/mapa4.PNG" width="80%" /></p>
<font size="5">
<p class="small">
</p>
</font>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<p>Paso cuatro: Agregó anotaciones a la hoja debajo. Decidió que no quería saturar el mapa con los nombres de las ciudades, pero sería útil para los lectores locales ver algunos de los lugares principales de cada anillo.</p>
</p>
</font>
</div>
</div>
</section>
<section id="haciendo-un-bosquejo-5" class="slide level2">
<h2>Haciendo un bosquejo</h2>
<div id="left">
<p><img src="images/mapa5.PNG" width="70%" /></p>
<font size="5">
<p class="small">
</p>
</font>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<p>Primer borrador digital de un gráfico de barras contextualizado de distancias de desplazamiento en Atlanta, Georgia. El autor Decidió dejar espacio adicional en el mapa fuera del radio de 50 millas, de modo que los anillos y el gráfico de barras estuvieran espaciados visualmente, unidos solo por las líneas verticales discontinuas.</p>
</p>
</font>
</div>
</div>
</section>
<section><section id="traducir-numeros-a-imagenes" class="titleslide slide level1"><h1>Traducir números a imágenes</h1></section><section id="traducir-numeros-a-imagenes-1" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li><p>El pionero de la VISUALIZACIÓN DE DATOS, William Cleveland, escribió que las visualizaciones traducen los números a imágenes en la página o la pantalla, de modo que el lector pueda traducirlos nuevamente en su cerebro.</p></li>
<li><p>Ambas traducciones tienen que funcionar, y hay muchas maneras en que podemos tomar un número y convertirlo en algún aspecto de una imagen, por lo que la elección debe hacerse con cuidado.</p></li>
</ul>
</section><section id="traducir-numeros-a-imagenes-2" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li><p>Cuando hacemos esa traducción a imágenes, tenemos que conectar los valores de nuestros datos con los parámetros de la imagen.</p></li>
<li><p>Esto se conoce como codificación visual de datos. La mejor manera de familiarizarse con esta idea de sonido abstracto es saltar directamente y probar un ejemplo sencillo.</p></li>
</ul>
</section><section id="traducir-numeros-a-imagenes-3" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li><p>Exploremos si los retrasos en los trenes en el sureste de Inglaterra son peores en otoño, cuando los rieles son viscosos con hojas que caen de los árboles a lo largo de la vía, y los trenes tienen que disminuir la velocidad para asegurarse de que pueden detenerse de manera segura.</p></li>
<li><p>Los datos pueden ser descargados del site dataportal orr.gov.uk.</p></li>
</ul>
</section><section id="traducir-numeros-a-imagenes-4" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li><p>Las variables que debemos tener en cuenta son el tiempo (los datos están disponibles para períodos de 4 semanas, y hay aproximadamente 13 de ellos en cada año) y el porcentaje de viajes en tren registrados como cancelados o “significativamente retrasados”.</p></li>
<li><p>También podemos dividir el tiempo en años y períodos de 4 semanas dentro de los años, o podríamos identificar el otoño frente al resto del año. Los datos abarcan veinte años desde abril de 1997 hasta marzo de 2017.</p></li>
</ul>
</section><section id="traducir-numeros-a-imagenes-5" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li>Un diagrama de dispersión es una opción obvia, con el tiempo codificado en la ubicación horizontal y los retardos codificados en la ubicación vertical.</li>
</ul>
</section><section id="traducir-numeros-a-imagenes-6" class="slide level2">
<h2>Traducir números a imágenes</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr) <span class="co">#Para manipulación de datos</span>
<span class="kw">library</span>(forcats) <span class="co">#Librería para trabajar con variables categóricas</span>
<span class="kw">library</span>(svglite) <span class="co">#Para crear figuras vectoriales de extensión SVG</span>

trains&lt;-<span class="kw">read.csv</span>(<span class="st">&#39;D:/Dropbox/Luis y Rocio/Job/Universidad/PUCP/Clases/2019-I/EST615 - Data Mining/Clases/Clase 1/Database/dataviz-book-master/dataviz-book-master/data/traindelays.csv&#39;</span>,<span class="dt">stringsAsFactors=</span><span class="ot">FALSE</span>)
ffour&lt;-<span class="kw">as.factor</span>(<span class="kw">as.character</span>(trains<span class="op">$</span>fourweek))
ffour&lt;-<span class="kw">fct_relabel</span>(ffour,<span class="dt">.fun=</span><span class="cf">function</span>(x) {
  <span class="kw">c</span>(<span class="st">&quot;6 Apr to 3 May&quot;</span>,
    <span class="st">&quot;4 May to 31 May&quot;</span>,
    <span class="st">&quot;1 Jun to 28 Jun&quot;</span>,
    <span class="st">&quot;29 Jun to 26 Jul&quot;</span>,
    <span class="st">&quot;27 Jul to 23 Aug&quot;</span>,
    <span class="st">&quot;24 Aug to 20 Sep&quot;</span>,
    <span class="st">&quot;21 Sep to 18 Oct&quot;</span>,
    <span class="st">&quot;19 Oct to 15 Nov&quot;</span>,
    <span class="st">&quot;16 Nov to 13 Dec&quot;</span>,
    <span class="st">&quot;14 Dec to 10 Jan&quot;</span>,
    <span class="st">&quot;11 Jan to 7 Feb&quot;</span>,
    <span class="st">&quot;8 Feb to 7 Mar&quot;</span>,
    <span class="st">&quot;8 Mar to 5 April&quot;</span>)[<span class="kw">as.integer</span>(x)] })
<span class="co"># define calendar year starting mid Jan</span>
trains<span class="op">$</span>calyear &lt;-<span class="st"> </span>trains<span class="op">$</span>finyear
trains<span class="op">$</span>calyear[trains<span class="op">$</span>fourweek<span class="op">&gt;</span><span class="dv">10</span>] &lt;-<span class="st"> </span>trains<span class="op">$</span>finyear[trains<span class="op">$</span>fourweek<span class="op">&gt;</span><span class="dv">10</span>]<span class="op">+</span><span class="dv">1</span>
trains<span class="op">$</span>calperiod&lt;-trains<span class="op">$</span>fourweek<span class="op">+</span><span class="dv">3</span>
trains<span class="op">$</span>calperiod[trains<span class="op">$</span>fourweek<span class="op">&gt;</span><span class="dv">10</span>]&lt;-trains<span class="op">$</span>fourweek[trains<span class="op">$</span>fourweek<span class="op">&gt;</span><span class="dv">10</span>]<span class="op">-</span><span class="dv">10</span>
trains<span class="op">$</span>caltime &lt;-<span class="st"> </span>trains<span class="op">$</span>calyear<span class="op">+</span>((trains<span class="op">$</span>calperiod<span class="op">-</span><span class="dv">1</span>)<span class="op">/</span><span class="dv">13</span>)</code></pre></div>
</section><section id="traducir-numeros-a-imagenes-7" class="slide level2">
<h2>Traducir números a imágenes</h2>
<p><img src="images/2-traindelays-scatter1.png" width="80%" /></p>
</section><section id="traducir-numeros-a-imagenes-8" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li>Los % de retrasos y cancelaciones son valores cercanos a cero, por lo que el eje vertical se ha extendido a 0%. Esto ayuda a transmitir los valores de los marcadores como su altura en el gráfico. Sin embargo, esto no se ha hecho para el eje horizontal porque no hay un valor cero significativo en este contexto.</li>
</ul>
</section><section id="traducir-numeros-a-imagenes-9" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li><p>La codificación del tiempo en la ubicación horizontal tiene un sentido intuitivo para muchos lectores porque leemos de izquierda a derecha (en todos los idiomas del alfabeto latino).</p></li>
<li><p>Podemos detectar fácilmente la tendencia general: empeorando, luego mejorando, luego empeorando nuevamente. También podemos ver los períodos especialmente malos como puntos altos en el gráfico, pero es difícil comparar el otoño en diferentes años porque están dispersos en los puntos.</p></li>
</ul>
</section><section id="traducir-numeros-a-imagenes-10" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li>Un formato alternativo con la misma codificación es el gráfico de líneas. Aunque las mismas variables están codificadas para los mismos parámetros visuales, conectamos los datos con una línea en lugar de dibujar marcadores individuales.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">draw1&lt;-<span class="cf">function</span>(<span class="dt">line=</span><span class="ot">FALSE</span>,<span class="dt">highlight_lo=</span><span class="dv">0</span>,<span class="dt">highlight_hi=</span><span class="dv">0</span>,<span class="dt">area=</span><span class="ot">FALSE</span>) {
  <span class="kw">plot</span>(trains<span class="op">$</span>caltime,trains<span class="op">$</span>london_se,<span class="dt">type=</span><span class="kw">ifelse</span>(line,<span class="st">&#39;l&#39;</span>,<span class="st">&#39;p&#39;</span>),
       <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">15</span>),<span class="dt">ylab=</span><span class="st">&quot;Delays &amp; cancellations (%)&quot;</span>,<span class="dt">xlab=</span><span class="st">&quot;4-week periods&quot;</span>,
       <span class="dt">xaxt=</span><span class="st">&#39;n&#39;</span>,<span class="dt">yaxt=</span><span class="st">&#39;n&#39;</span>,<span class="dt">yaxs=</span><span class="st">&#39;i&#39;</span>,
       <span class="dt">sub=</span><span class="st">&#39;Data from dataportal.orr.gov.uk&#39;</span>)
  <span class="cf">if</span>(highlight_lo<span class="op">!=</span><span class="dv">0</span>) {
    <span class="cf">if</span>(area) {
      <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1997</span><span class="op">:</span><span class="dv">2016</span>) {
        <span class="kw">polygon</span>(<span class="dt">x=</span><span class="kw">rep</span>(<span class="kw">c</span>(i<span class="op">+</span>((highlight_lo<span class="op">-</span><span class="fl">1.5</span>)<span class="op">/</span><span class="dv">13</span>),
                        i<span class="op">+</span>((highlight_hi<span class="op">-</span><span class="fl">0.5</span>)<span class="op">/</span><span class="dv">13</span>)),
                      <span class="dt">each=</span><span class="dv">2</span>),
                <span class="dt">y=</span><span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">18</span>,<span class="dv">18</span>,<span class="op">-</span><span class="dv">1</span>),
                <span class="dt">col=</span><span class="st">&quot;#b1301144&quot;</span>,<span class="dt">border=</span><span class="ot">NA</span>)
      }
    }
    <span class="cf">else</span> {
      <span class="kw">points</span>(trains<span class="op">$</span>caltime[<span class="kw">between</span>(trains<span class="op">$</span>fourweek,highlight_lo,highlight_hi)],
             trains<span class="op">$</span>london_se[<span class="kw">between</span>(trains<span class="op">$</span>fourweek,highlight_lo,highlight_hi)],
             <span class="dt">col=</span><span class="st">&#39;#b1301199&#39;</span>,<span class="dt">pch=</span><span class="dv">19</span>)
    }
  }
  <span class="kw">axis</span>(<span class="dt">side=</span><span class="dv">1</span>,<span class="dt">at=</span><span class="kw">c</span>(<span class="dv">1997</span>,<span class="dv">2001</span>,<span class="dv">2005</span>,<span class="dv">2009</span>,<span class="dv">2013</span>,<span class="dv">2017</span>))
  <span class="kw">axis</span>(<span class="dt">side=</span><span class="dv">1</span>,<span class="dt">at=</span><span class="dv">1997</span><span class="op">:</span><span class="dv">2017</span>,<span class="dt">tcl=</span>(<span class="op">-</span><span class="fl">0.25</span>),<span class="dt">labels=</span><span class="ot">FALSE</span>)
  <span class="kw">axis</span>(<span class="dt">side=</span><span class="dv">2</span>,<span class="dt">at=</span><span class="dv">2</span><span class="op">*</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">7</span>))
}

<span class="kw">svglite</span>(<span class="st">&#39;2-traindelays-line1.svg&#39;</span>); <span class="kw">draw1</span>(<span class="dt">line=</span><span class="ot">TRUE</span>); <span class="kw">dev.off</span>()
<span class="kw">png</span>(<span class="st">&#39;2-traindelays-line1.png&#39;</span>,<span class="dt">width=</span><span class="dv">700</span>); <span class="kw">draw1</span>(<span class="dt">line=</span><span class="ot">TRUE</span>); <span class="kw">dev.off</span>()</code></pre></div>
</section><section id="traducir-numeros-a-imagenes-11" class="slide level2">
<h2>Traducir números a imágenes</h2>
<div id="left">
<p><img src="images/2-traindelays-line1.png" width="90%" /></p>
<font size="5">
<p class="small">
</p>
</font>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<ul>
<li><p>Esto tiene un efecto en la forma en que se percibe, se puede notar inmediatamente que los puntos realmente altos son más evidentes, y la tendencia a largo plazo no tanto. Los puntos altos requieren que la línea suba todo el camino hasta un tope y luego otra vez hacia abajo, lo que pone mucha “tinta” en la página (o pantalla), lo que atrae la atención del usuario que no sucede con el diagrama de dispersión.</p></li>
<li><p>En términos estadísticos, los datos de porcentaje de demora / cancelación (%) están sesgados positivamente: la mayoría de los valores están alrededor del mismo valor, algunos son mucho más altos, pero no hay ninguno que sea mucho más bajo.</p></li>
</ul>
</p>
</font>
</div>
</div>
</section><section id="traducir-numeros-a-imagenes-12" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li><p>La historia detrás de estas visualizaciones consiste en comparar el otoño con otras épocas del año, por lo que necesitamos que el usuario pueda identificar el otoño. Un enfoque sería resaltarlo, lo que he hecho de dos maneras en las figuras de abajo.</p></li>
<li><p>La primera, un período de cada año (de mediados de noviembre a mediados de diciembre) se selecciona con un punto de color, y a la segunda, el sombreado de color se utiliza para identificar desde mediados de septiembre hasta mediados de diciembre.</p></li>
</ul>
</section><section id="traducir-numeros-a-imagenes-13" class="slide level2">
<h2>Traducir números a imágenes</h2>
<div id="left">
<p><img src="images/2-traindelays-line2a.png" width="90%" /></p>
<font size="5">
<p class="small">
</p>
</font>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<ul>
<li>Los puntos tienen la ventaja de mostrarle exactamente dónde se encuentran los datos de otoño, pero comienza a estar demasiado ocupado visualmente para leer fácilmente. El sombreado es menos intrusivo en los marcadores de datos, pero el efecto de franja de caramelo crea su propio tipo de sobrecarga visual.</li>
</ul>
</p>
</font>
</div>
</div>
</section><section id="traducir-numeros-a-imagenes-14" class="slide level2">
<h2>Traducir números a imágenes</h2>
<div id="left">
<p><img src="images/2-traindelays-line2b.png" width="90%" /></p>
<font size="5">
<p class="small">
</p>
</font>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<ul>
<li>Los puntos que identifican el otoño en cada año podrían funcionar, pero las franjas de color distraen y sobrecargan al usuario</li>
</ul>
</p>
</font>
</div>
</div>
</section><section id="traducir-numeros-a-imagenes-15" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li>En esta etapa, comienzan a surgir nuevos mensajes, gracias a nuestras opciones de codificación y formato: aunque el otoño fue realmente el peor momento para viajar en tren en la mayoría de los años hasta 2002. Sin visualización, ¿podría haberlo visto desde los datos en bruto?</li>
</ul>
</section><section id="traducir-numeros-a-imagenes-16" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li><p>De hecho, se tuvo que crear una nueva variable, que solo identifica el otoño.</p></li>
<li><p>Esta es solo una variante de la variable de tiempo que ya teníamos. Podríamos adoptar otro enfoque para ayudarnos a comparar el otoño con el resto del año, haciendo de nuevo una variante de la variable de tiempo dividiéndola en el año y el período de 4 semanas.</p></li>
<li><p>Entonces, podemos codificar el período de 4 semanas a la posición horizontal.</p></li>
</ul>
</section><section id="traducir-numeroa-a-imagenes" class="slide level2">
<h2>Traducir númeroa a imágenes</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">draw3&lt;-<span class="cf">function</span>(<span class="dt">line=</span><span class="ot">FALSE</span>) {
  <span class="kw">plot</span>(trains<span class="op">$</span>calperiod[trains<span class="op">$</span>calyear<span class="op">==</span><span class="dv">1998</span>],trains<span class="op">$</span>london_se[trains<span class="op">$</span>calyear<span class="op">==</span><span class="dv">1998</span>],
       <span class="dt">type=</span><span class="kw">ifelse</span>(line,<span class="st">&#39;l&#39;</span>,<span class="st">&#39;p&#39;</span>),
       <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">15</span>),<span class="dt">ylab=</span><span class="st">&quot;Delays &amp; cancellations (%)&quot;</span>,<span class="dt">xlab=</span><span class="st">&quot;4-week periods&quot;</span>,
       <span class="dt">xaxt=</span><span class="st">&#39;n&#39;</span>,<span class="dt">yaxt=</span><span class="st">&#39;n&#39;</span>,<span class="dt">yaxs=</span><span class="st">&#39;i&#39;</span>,
       <span class="dt">sub=</span><span class="st">&#39;Data from dataportal.orr.gov.uk&#39;</span>)
  <span class="kw">axis</span>(<span class="dt">side=</span><span class="dv">1</span>,<span class="dt">at=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">10</span>,<span class="dv">13</span>))
  <span class="kw">axis</span>(<span class="dt">side=</span><span class="dv">1</span>,<span class="dt">at=</span><span class="dv">1</span><span class="op">:</span><span class="dv">13</span>,<span class="dt">tcl=</span>(<span class="op">-</span><span class="fl">0.25</span>),<span class="dt">labels=</span><span class="ot">FALSE</span>)
  <span class="kw">axis</span>(<span class="dt">side=</span><span class="dv">2</span>,<span class="dt">at=</span><span class="dv">2</span><span class="op">*</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">7</span>))
  <span class="cf">for</span>(i <span class="cf">in</span> <span class="kw">c</span>(<span class="dv">1997</span>,(<span class="dv">1999</span><span class="op">:</span><span class="dv">2017</span>))) {
    <span class="cf">if</span>(line) {
      <span class="kw">lines</span>(trains<span class="op">$</span>calperiod[trains<span class="op">$</span>calyear<span class="op">==</span>i],trains<span class="op">$</span>london_se[trains<span class="op">$</span>calyear<span class="op">==</span>i],
            <span class="dt">col=</span><span class="st">&#39;#00000088&#39;</span>)
    }
    <span class="cf">else</span> {
      <span class="kw">points</span>(trains<span class="op">$</span>calperiod[trains<span class="op">$</span>calyear<span class="op">==</span>i],trains<span class="op">$</span>london_se[trains<span class="op">$</span>calyear<span class="op">==</span>i],
             <span class="dt">col=</span><span class="st">&#39;#00000088&#39;</span>)
    }
  }
}
<span class="kw">svglite</span>(<span class="st">&#39;2-traindelays-3a.svg&#39;</span>); <span class="kw">draw3</span>(); <span class="kw">dev.off</span>()
<span class="kw">png</span>(<span class="st">&#39;2-traindelays-3a.png&#39;</span>); <span class="kw">draw3</span>(); <span class="kw">dev.off</span>()
<span class="kw">svglite</span>(<span class="st">&#39;2-traindelays-3b.svg&#39;</span>); <span class="kw">draw3</span>(<span class="dt">line=</span><span class="ot">TRUE</span>); <span class="kw">dev.off</span>()
<span class="kw">png</span>(<span class="st">&#39;2-traindelays-3b.png&#39;</span>); <span class="kw">draw3</span>(<span class="dt">line=</span><span class="ot">TRUE</span>); <span class="kw">dev.off</span>()</code></pre></div>
</section><section id="traducir-numeros-a-imagenes-17" class="slide level2">
<h2>Traducir números a imágenes</h2>
<div id="left">
<p><img src="images/2-traindelays-3a.png" width="90%" /></p>
<font size="5">
<p class="small">
</p>
</font>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<ul>
<li>La figura de la izquierda definitivamente no ayuda! En el diagrama de dispersión, ya no podemos decir a qué año pertenece un punto en particular.</li>
</ul>
</p>
</font>
</div>
</div>
</section><section id="traducir-numeros-a-imagenes-18" class="slide level2">
<h2>Traducir números a imágenes</h2>
<div id="left">
<p><img src="images/2-traindelays-3b.png" width="90%" /></p>
<font size="5">
<p class="small">
</p>
</font>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<ul>
<li>En este gráfico de líneas, aunque hay una línea por año, se entremezclan tanto que es imposible trazar una línea a través del gráfico. Esto se debe a que ahora tenemos tres variables que deben codificarse: año, período de 4 semanas y% de retraso, y estamos descuidando el año.</li>
</ul>
</p>
</font>
</div>
</div>
</section><section id="traducir-numeros-a-imagenes-19" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li><p>Ya hemos usado las posiciones horizontal y vertical, por lo que necesitamos otro parámetro de gráfico para indicar a qué año pertenece cada marcador o línea.</p></li>
<li><p>Una opción es usar colores diferentes, pero debemos asignar colores que tengan cierta sensación de ir en un orden particular, no solo un efecto arco iris, de lo contrario se perderá el orden de los años</p></li>
</ul>
</section><section id="traducir-numeros-a-imagenes-20" class="slide level2">
<h2>Traducir números a imágenes</h2>
<p><img src="images/2-traindelays-4a.png" width="90%" /></p>
</section><section id="traducir-numeros-a-imagenes-21" class="slide level2">
<h2>Traducir números a imágenes</h2>
<p><img src="images/2-traindelays-4b.png" width="90%" /></p>
</section><section id="traducir-numeros-a-imagenes-22" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li>Esto ayuda un poco en el gráfico de líneas (compare las líneas más altas en el período 10 con las mismas líneas en la Figura de arriba), pero no en absoluto en el diagrama de dispersión. Si tuviéramos solo unos años, los colores podrían ser tan distintos que podríamos diferenciarlos.</li>
</ul>
</section><section id="traducir-numeros-a-imagenes-23" class="slide level2">
<h2>Traducir números a imágenes</h2>
<ul>
<li><p>Pero el problema fundamental aquí es que los años son bastante similares y, por lo tanto, sus líneas están una encima de la otra: un estadístico podría decir que la variación dentro de los años es mayor que la variación entre los años.</p></li>
<li><p>Debe tener esto en cuenta si desea que el mensaje sea claro y no se vea afectado por ruidos irrelevantes.</p></li>
</ul>
</section></section>
<section><section id="numeros-continuos-y-discretos" class="titleslide slide level1"><h1>Números continuos y discretos</h1></section><section id="numeros-continuos-y-discretos-1" class="slide level2">
<h2>Números continuos y discretos</h2>
<ul>
<li><p>El mejor lugar para comenzar aprendiendo sobre visualización de datos es con variables cuantitativas.</p></li>
<li><p>Por cuantitativo, quiero decir que pueden tomar un rango de valores numéricos que miden algo en el mundo real.</p></li>
<li><p>Podemos dividirlos aún más en variables continuas y variables discretas.</p></li>
<li><p>Las variables continuas pueden llevar un valor muy preciso a muchos lugares decimales. Las variables discretas solo pueden tomar valores particulares, generalmente 0, 1, 2, 3 ….</p></li>
</ul>
</section><section id="numeros-continuos-y-discretos-2" class="slide level2">
<h2>Números continuos y discretos</h2>
<ul>
<li><p>Una buena manera de detectar estas variables es que si hay unidades de medida (por ejemplo, acres quemados en un incendio forestal u horas de duración de la batería para un teléfono nuevo), es definitivamente continuo o discreto.</p></li>
<li><p>Desafortunadamente, lo contrario no es cierto: también hay variables discretas y continuas sin unidades, como la proporción de hombres y mujeres entre los solicitantes de empleo.</p></li>
</ul>
</section><section id="numeros-continuos-y-discretos-3" class="slide level2">
<h2>Números continuos y discretos</h2>
<ul>
<li><p>La otra forma de datos es categórica, lo que indica que cada observación cae en una categoría.</p></li>
<li><p>Esas categorías a veces pueden tener un orden natural, pero eso no las hace discretas.</p></li>
<li><p>Las variables discretas tienen un verdadero significado numérico: puedes restar la población de Anytown de la de Othertown, lo que significa el número de personas adicionales.</p></li>
<li><p>Eso no es cierto para categorías ordinales como Muy en desacuerdo, No de acuerdo, De acuerdo y Muy de acuerdo, incluso si las registra como números como 1, 2, 3 y 4.</p></li>
</ul>
</section><section id="una-variable-en-el-tiempo" class="slide level2">
<h2>Una variable en el tiempo</h2>
<ul>
<li><p>Comencemos con una variable que contiene datos continuos: la distancia que las personas viajan a trabajar a la ciudad de Atlanta, Georgia, Estados Unidos.</p></li>
<li><p>Antes de dibujar algo, incluso antes de mirar los datos, hay algunos aspectos que esperamos encontrar. Los números tienen que ser positivos, y esperamos que la mayoría de ellos sean de menos de veinte millas, con algunos más.</p></li>
</ul>
</section><section id="una-variable-en-el-tiempo-1" class="slide level2">
<h2>Una variable en el tiempo</h2>
<ul>
<li><p>Cuando crea visualizaciones, si no encuentra las cosas como esperaba, podría sugerir que hizo algo mal, lo cual es muy fácil con el software de análisis de datos.</p></li>
<li><p>Es sensato codificar la distancia de viaje a la posición horizontal, desde cero millas a la izquierda hasta la distancia máxima de viaje a la derecha.</p></li>
<li><p>Dibujemos un punto para cada persona en este conjunto de datos, y apilémoslos si están a 2 millas de la distancia de la otra.</p></li>
</ul>
</section><section id="una-variable-en-el-tiempo-2" class="slide level2">
<h2>Una variable en el tiempo</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">library</span>(forcats)
<span class="kw">library</span>(svglite)
<span class="kw">library</span>(hexbin) <span class="co">#install.packages(&quot;hexbin&quot;)</span>
<span class="kw">library</span>(MASS)
<span class="co"># prevent dplyr-MASS conflict</span>
select &lt;-<span class="st"> </span>dplyr<span class="op">::</span>select


<span class="co"># Atlanta Commutes</span>
ac&lt;-readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;D:/Dropbox/Luis y Rocio/Job/Universidad/PUCP/Clases/2019-I/EST615 - Data Mining/Clases/Clase 1/Database/dataviz-book-master/dataviz-book-master/data/CommuteAtlanta.csv&#39;</span>)
storepar&lt;-<span class="kw">par</span>() <span class="co"># store graphics parameters</span>

<span class="co"># stripchart / dotplot</span>
drawstripchart&lt;-<span class="cf">function</span>() {
  <span class="kw">par</span>(<span class="dt">mai=</span><span class="kw">c</span>(<span class="fl">1.4</span>,<span class="fl">0.82</span>,<span class="fl">0.42</span>,<span class="fl">0.42</span>)) <span class="co"># extra bottom margin</span>
  <span class="kw">par</span>(<span class="dt">mgp=</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>)) <span class="co"># move x-axis label up a bit</span>
  <span class="kw">stripchart</span>(<span class="dv">2</span><span class="op">*</span><span class="kw">floor</span>((ac<span class="op">$</span>Distance)<span class="op">/</span><span class="dv">2</span>), <span class="dt">method =</span> <span class="st">&quot;stack&quot;</span>,
             <span class="dt">offset =</span> .<span class="dv">5</span>, <span class="dt">pch =</span> <span class="dv">19</span>, <span class="dt">at=</span><span class="dv">0</span>, <span class="dt">cex=</span><span class="fl">0.8</span>, <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">60</span>),
             <span class="dt">main=</span><span class="st">&quot;Atlanta Commutes&quot;</span>,
             <span class="dt">xlab=</span><span class="st">&quot;Distance travelled (miles)&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Number of people&quot;</span>)
  <span class="kw">mtext</span>(<span class="dt">text=</span><span class="st">&quot;Data from </span><span class="ch">\&quot;</span><span class="st">Statistics: Unlocking the Power of Data</span><span class="ch">\&quot;</span><span class="st"> </span><span class="ch">\n</span><span class="st"> by the Locks (lock5stat.com)&quot;</span>,
        <span class="dt">side=</span><span class="dv">1</span>,<span class="dt">line=</span><span class="dv">4</span>,<span class="dt">cex=</span><span class="fl">0.75</span>)
  <span class="co">#axis(side=2,at=c(0,10,20,30,40,50))</span>
  <span class="kw">par</span>(<span class="dt">mai=</span>storepar<span class="op">$</span>mai)
  <span class="kw">par</span>(<span class="dt">mgp=</span>storepar<span class="op">$</span>mgp)
}
svglite<span class="op">::</span><span class="kw">svglite</span>(<span class="st">&#39;3-stripchart-dotplot.svg&#39;</span>); <span class="kw">drawstripchart</span>();<span class="kw">dev.off</span>()
<span class="kw">png</span>(<span class="st">&#39;3-stripchart-dotplot.png&#39;</span>); <span class="kw">drawstripchart</span>(); <span class="kw">dev.off</span>()</code></pre></div>
</section><section id="una-variable-en-el-tiempo-3" class="slide level2">
<h2>Una variable en el tiempo</h2>
<div id="left">
<p><img src="images/3-stripchart-dotplot.png" width="90%" /></p>
<font size="5">
<p class="small">
</p>
<p></font></p>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<ul>
<li><p>Una visualización siempre debe indicar al usuario cuáles son las variables, preferiblemente al etiquetar los ejes como hicimos aquí con “Distancia recorrida (millas)”.</p></li>
<li><p>Si hay unidades como millas, también deberían aclararse.</p></li>
<li>Si encuentra que una visualización lo confunde porque no está claro qué representan los diferentes parámetros visuales, entonces el analista ha fallado.<br />

</p>
</font>
</div>
</div></li>
</ul>
</section><section id="una-variable-en-el-tiempo-4" class="slide level2">
<h2>Una variable en el tiempo</h2>
<ul>
<li><p>También debemos hacer que la cantidad de personas a cada distancia sea clara.</p></li>
<li><p>En la gráfica de puntos, la altura de cada pila de puntos lo muestra sin ningún esfuerzo adicional por nuestra parte.</p></li>
<li><p>Si lo codificáramos en otra cosa, como el color, no sería tan fácil para los lectores comparar el número de personas que viajan a diferentes distancias.</p></li>
</ul>
</section><section id="una-variable-en-el-tiempo-5" class="slide level2">
<h2>Una variable en el tiempo</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">drawhisto&lt;-<span class="cf">function</span>(b) {
  <span class="kw">par</span>(<span class="dt">mai=</span><span class="kw">c</span>(<span class="fl">1.4</span>,<span class="fl">0.82</span>,<span class="fl">0.42</span>,<span class="fl">0.42</span>)) <span class="co"># extra bottom margin</span>
  <span class="kw">par</span>(<span class="dt">mgp=</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>)) <span class="co"># move x-axis label up a bit</span>
  <span class="kw">hist</span>(ac<span class="op">$</span>Distance, <span class="dt">breaks=</span>b, <span class="dt">main=</span><span class="st">&quot;Atlanta Commutes&quot;</span>,
       <span class="dt">xlab=</span><span class="st">&quot;Distance travelled (miles)&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Number of people&quot;</span>,
       <span class="dt">col=</span><span class="st">&#39;#565656&#39;</span>)
  <span class="kw">mtext</span>(<span class="dt">text=</span><span class="st">&quot;Data from </span><span class="ch">\&quot;</span><span class="st">Statistics: Unlocking the Power of Data</span><span class="ch">\&quot;</span><span class="st"> </span><span class="ch">\n</span><span class="st"> by the Locks (lock5stat.com)&quot;</span>,
        <span class="dt">side=</span><span class="dv">1</span>,<span class="dt">line=</span><span class="dv">4</span>,<span class="dt">cex=</span><span class="fl">0.75</span>)
  <span class="kw">par</span>(<span class="dt">mai=</span>storepar<span class="op">$</span>mai)
  <span class="kw">par</span>(<span class="dt">mgp=</span>storepar<span class="op">$</span>mgp)
}
svglite<span class="op">::</span><span class="kw">svglite</span>(<span class="st">&#39;3-histogram-20.svg&#39;</span>); <span class="kw">drawhisto</span>(<span class="dv">20</span>); <span class="kw">dev.off</span>()
svglite<span class="op">::</span><span class="kw">svglite</span>(<span class="st">&#39;3-histogram-10.svg&#39;</span>); <span class="kw">drawhisto</span>(<span class="dv">10</span>); <span class="kw">dev.off</span>()
svglite<span class="op">::</span><span class="kw">svglite</span>(<span class="st">&#39;3-histogram-50.svg&#39;</span>); <span class="kw">drawhisto</span>(<span class="dv">50</span>); <span class="kw">dev.off</span>()

<span class="kw">png</span>(<span class="st">&#39;3-histogram-20.png&#39;</span>); <span class="kw">drawhisto</span>(<span class="dv">20</span>); <span class="kw">dev.off</span>()
<span class="kw">png</span>(<span class="st">&#39;3-histogram-20.png&#39;</span>); <span class="kw">drawhisto</span>(<span class="dv">10</span>); <span class="kw">dev.off</span>()
<span class="kw">png</span>(<span class="st">&#39;3-histogram-20.png&#39;</span>); <span class="kw">drawhisto</span>(<span class="dv">50</span>); <span class="kw">dev.off</span>()</code></pre></div>
</section><section id="una-variable-en-el-tiempo-6" class="slide level2">
<h2>Una variable en el tiempo</h2>
<p><img src="images/3-histogram-20.png" width="30%" /><img src="images/3-histogram-10.png" width="30%" /><img src="images/3-histogram-50.png" width="30%" /></p>
<font size="5">
<p class="small">
Histogramas de una variable continua. Podemos elegir cuántas bandejas usar para contar los datos. Diez contenedores (izquierda) parecen perder demasiado los detalles, veinte contenedores (centro) son correctos, y cincuenta contenedores (derecha) son tantos que comienzan a mostrar el efecto colmado de personas que informan sobre distancias que se redondean a múltiplos de cinco millas , que sobre enfatiza errores o “ruido” en los datos.
</p>
<p></font></p>
</section><section id="una-variable-en-el-tiempo-7" class="slide level2">
<h2>Una variable en el tiempo</h2>
<ul>
<li><p>Sin embargo, hay límites para esta tabla básica.</p></li>
<li><p>Si tenemos muchos datos, tendremos muchos puntos, y nuestro gráfico de puntos puntos tendrá que ser muy alto o los puntos tendrán que ser muy pequeños.</p></li>
<li><p>El histograma proporciona un mejor formato para esta misma codificación: corte la variable continua en “bandejas”, cuente la cantidad de observaciones que hay en cada una, luego dibuje una barra de altura para mostrar la cuenta.</p></li>
</ul>
</section><section id="una-variable-en-el-tiempo-8" class="slide level2">
<h2>Una variable en el tiempo</h2>
<div id="left">
<p><img src="images/3-kernel-density.png" width="90%" /></p>
<font size="4">
<p class="small">
<ul>
<li>Es fácil ver cómo se calculan los histogramas al contar los datos, pero hay una alternativa llamada “gráfica de densidad del kernel” que funciona al reemplazar cada observación por una forma suave y agradable (llamada kernel) como la distribución normal.<br />
</li>
</ul>
</p>
<p></font></p>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<ul>
<li>Cuando las alturas de todas las curvas del núcleo se agregan juntas en cada punto a lo largo del eje horizontal, y el resultado se grafica, se forma una línea suave que traza la misma forma que hemos visto en el histograma.</li>
<li>El histograma es muy utilizado y considerado como una forma estándar y básica de visualización de datos, pero en realidad también resulta ser un concepto crucial para los problemas de Big Data de hoy.
</p>
</font>
</div>
</div></li>
</ul>
</section><section id="una-variable-en-el-tiempo-9" class="slide level2">
<h2>Una variable en el tiempo</h2>
<ul>
<li><p>Los diagramas de densidad del kernel son un formato útil para usar en la visualización porque hay menos “tinta” en la página, por lo que el usuario puede absorberlos rápidamente.</p></li>
<li><p>Por otro lado, dependen de la potencia de la computadora para calcularlos, es posible que no estén disponibles en todos los paquetes de software.</p></li>
</ul>
</section><section id="como-interpretar-un-histograma-y-un-kernel" class="slide level2">
<h2>Cómo interpretar un histograma y un kernel</h2>
<ul>
<li><p>Los histogramas y los gráficos de densidad del núcleo nos muestran qué forma toman los datos cuando se ven en masa. Si los datos son una muestra de una población más grande, entonces esto puede darnos una pista sobre la forma que toma la población.</p></li>
<li><p>Es valioso poder detectar algunas características en cualquier gráfico que muestre una distribución:</p></li>
</ul>
</section><section id="como-interpretar-un-histograma-y-un-kernel-1" class="slide level2">
<h2>Cómo interpretar un histograma y un kernel</h2>
<ul>
<li><p>¿Hay un pico o más de uno? Más de uno podría sugerir que los datos realmente provienen de una mixtura de diferentes poblaciones. Ambas distribuciones mostradas tienen un pico (los estadísticos las llaman unimodales).</p></li>
<li><p>¿Es la dispersión alrededor del pico central simétrica o asimétrica? ¿Qué tan lejos va? Los datos de conmutación de Atlanta están sesgados (llamamos a esta asimetría hacia la derecha o sesgada positivamente).</p></li>
</ul>
</section><section id="como-interpretar-un-histograma-y-un-kernel-2" class="slide level2">
<h2>Cómo interpretar un histograma y un kernel</h2>
<ul>
<li>¿Hay datos atípicos que están separados del grueso de los datos por un espacio vacío? Puede haber algo mal con ellos, ¿quizás un error de recopilación de datos? Puede haber algunos valores atípicos en los datos de desplazamiento de Atlanta a 100 millas, que aparecen como un pequeño bulto hacia la derecha.</li>
</ul>
</section><section id="como-interpretar-un-histograma-y-un-kernel-3" class="slide level2">
<h2>Cómo interpretar un histograma y un kernel</h2>
<ul>
<li>El hecho de que esto sea exactamente 100 también es sospechoso y puede indicar una acumulación.</li>
<li>Se pueden usar las mismas técnicas para variables discretas y continuas, la única diferencia es que esperamos que las variables discretas tengan una forma más gruesa, ya que solo pueden tomar valores específicos.</li>
</ul>
</section><section id="una-variable-en-el-tiempo-10" class="slide level2">
<h2>Una variable en el tiempo</h2>
<div id="left">
<p><img src="images/3-kernel-density-sqrt.png" width="90%" /></p>
<font size="5">
<p class="small">
</p>
<p></font></p>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<ul>
<li><p>A veces, cuando la distribución es fuertemente asimétrica, puede ayudar el transformarla.</p></li>
<li>Esto significa que en lugar de codificar los valores de la variable para, por ejemplo, la ubicación horizontal, codificamos los valores después de pegarlos a través de alguna función matemática. Los logaritmos son populares para esto: reducen los números altos más que los números bajos, por lo que reducen las asimetría positivo.
</p>
</font>
</div>
</div></li>
</ul>
</section><section id="comparandos-datos-inigualados" class="slide level2">
<h2>Comparandos datos inigualados</h2>
<ul>
<li><p>Digamos que tenemos algunos datos sobre una variable y otros sobre otra, y queremos compararlos.</p></li>
<li><p>Generaremos unas figuras que tiene tres formas de comparar los tiempos de viaje en Atlanta y Nueva York.</p></li>
</ul>
</section><section id="comparandos-datos-inigualados-1" class="slide level2">
<h2>Comparandos datos inigualados</h2>
<ul>
<li><p>Debido a que la distancia se codifica en la ubicación horizontal, si queremos facilitar la comparación para el lector, debemos organizar múltiples visualizaciones, como histogramas, una encima de la otra y no a la par.</p></li>
<li><p>Las densidades del núcleo, debido a que son curvas simples, pueden superponerse de manera efectiva.</p></li>
</ul>
</section><section id="comparandos-datos-inigualados-2" class="slide level2">
<h2>Comparandos datos inigualados</h2>
<p><img src="images/3-compare-histo.png" width="45%" /><img src="images/3-compare-kernel.png" width="45%" /></p>
</section><section id="comparandos-datos-inigualados-3" class="slide level2">
<h2>Comparandos datos inigualados</h2>
<div id="left">
<p><img src="images/3-compare-heatmap.png" width="90%" /></p>
<font size="5">
<p class="small">
</p>
<p></font></p>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<ul>
<li><p>La tercera opción aquí es una cinta de mapa de calor, que cuenta los desplazamientos dentro de las barras como el histograma, pero codifica el recuento para colorear. Esto es compacto y puede ser llamativo, pero el color no es adecuado para un examen detallado de los valores de los datos.</p></li>
<li><p>En este caso, podría ser suficiente, si el mensaje es simplemente que muchos neoyorquinos viajan una distancia relativamente corta para trabajar.</p></li>
</ul>
</p>
</font>
</div>
</div>
</section><section id="numeros-continuos-y-discretos-4" class="slide level2">
<h2>Números continuos y discretos</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># gráfico de violin </span>
trains&lt;-<span class="kw">read.csv</span>(<span class="st">&#39;traindelays.csv&#39;</span>,<span class="dt">stringsAsFactors=</span><span class="ot">FALSE</span>)
ffour&lt;-<span class="kw">as.factor</span>(<span class="kw">as.character</span>(trains<span class="op">$</span>fourweek))
ffour&lt;-<span class="kw">fct_relabel</span>(ffour,<span class="dt">fun=</span><span class="cf">function</span>(x) {
  <span class="kw">c</span>(<span class="st">&quot;6 Apr to 3 May&quot;</span>,
    <span class="st">&quot;4 May to 31 May&quot;</span>,
    <span class="st">&quot;1 Jun to 28 Jun&quot;</span>,
    <span class="st">&quot;29 Jun to 26 Jul&quot;</span>,
    <span class="st">&quot;27 Jul to 23 Aug&quot;</span>,
    <span class="st">&quot;24 Aug to 20 Sep&quot;</span>,
    <span class="st">&quot;21 Sep to 18 Oct&quot;</span>,
    <span class="st">&quot;19 Oct to 15 Nov&quot;</span>,
    <span class="st">&quot;16 Nov to 13 Dec&quot;</span>,
    <span class="st">&quot;14 Dec to 10 Jan&quot;</span>,
    <span class="st">&quot;11 Jan to 7 Feb&quot;</span>,
    <span class="st">&quot;8 Feb to 7 Mar&quot;</span>,
    <span class="st">&quot;8 Mar to 5 April&quot;</span>)[<span class="kw">as.integer</span>(x)] })
ffweek&lt;-trains<span class="op">$</span>fourweek
season&lt;-<span class="kw">rep</span>(<span class="st">&#39; &#39;</span>,<span class="kw">length</span>(ffweek))
season[ffweek<span class="op">&gt;</span><span class="dv">8</span> <span class="op">&amp;</span><span class="st"> </span>ffweek<span class="op">&lt;</span><span class="dv">13</span>]&lt;-<span class="st">&#39;Winter&#39;</span>
season[ffweek<span class="op">==</span><span class="dv">13</span> <span class="op">|</span><span class="st"> </span>ffweek<span class="op">&lt;</span><span class="dv">3</span>]&lt;-<span class="st">&#39;Spring&#39;</span>
season[ffweek<span class="op">&gt;</span><span class="dv">2</span> <span class="op">&amp;</span><span class="st"> </span>ffweek<span class="op">&lt;</span><span class="dv">6</span>]&lt;-<span class="st">&#39;Summer&#39;</span>
season[ffweek<span class="op">&gt;</span><span class="dv">5</span> <span class="op">&amp;</span><span class="st"> </span>ffweek<span class="op">&lt;</span><span class="dv">9</span>]&lt;-<span class="st">&#39;Autumn&#39;</span>
trains<span class="op">$</span>season&lt;-forcats<span class="op">::</span><span class="kw">fct_relevel</span>(<span class="kw">as.factor</span>(sesason),
                                    <span class="st">&quot;Spring&quot;</span>,<span class="st">&quot;Summer&quot;</span>,<span class="st">&quot;Autumn&quot;</span>,<span class="st">&quot;Winter&quot;</span>)
svglite<span class="op">::</span><span class="kw">svglite</span>(<span class="st">&#39;3-violin.svg&#39;</span>)
<span class="kw">png</span>(<span class="st">&#39;3-violin.png&#39;</span>)
ggplot2<span class="op">::</span><span class="kw">ggplot</span>(trains,<span class="kw">aes</span>(season,london_se)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_violin</span>(<span class="dt">scale=</span><span class="st">&quot;area&quot;</span>,<span class="dt">fill=</span><span class="st">&quot;#4682b4&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">expand_limits</span>(<span class="dt">y=</span><span class="fl">0.62</span>)
<span class="kw">dev.off</span>()</code></pre></div>
</section><section id="numeros-continuos-y-discretos-5" class="slide level2">
<h2>Números continuos y discretos</h2>
<div id="left">
<p><img src="images/3-violin.png" width="90%" /></p>
<font size="5">
<p class="small">
<ul>
<li>Winter, Spring, Summer, Autumn = Invierno, Primavera, Verano, Otoño</li>
</ul>
</p>
<p></font></p>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<ul>
<li><p>Una trama de violín de los datos de retraso del tren, comparando cuatro temporadas. Obviamente no hay mucha diferencia, excepto que el “violín” de invierno es un poco más alto.</p></li>
<li><p>Se enfatiza en la etiqueta del eje vertical que los datos provienen de 20 años, como una sutil precaución para el usuario de que muchas cosas han cambiado en ese tiempo.</p></li>
</ul>
</p>
</font>
</div>
</div>
</section><section id="numeros-continuos-y-discretos-6" class="slide level2">
<h2>Números continuos y discretos</h2>
<ul>
<li><p>Si tiene que comparar varias variables en varios grupos, necesitará varios gráficos.</p></li>
<li><p>Para continuar con nuestro ejemplo, las personas pueden estar interesadas en comparar los tiempos de viaje entre Atlanta y Nueva York, y los horarios de trabajo de la misma manera, pero hay menos interés (nos imaginamos) en comparar el tiempo de viaje y el tiempo de trabajo en cualquier ciudad.</p></li>
</ul>
</section><section id="numeros-continuos-y-discretos-7" class="slide level2">
<h2>Números continuos y discretos</h2>
<ul>
<li><p>Por lo tanto, haríamos una tabla (tal vez una parcela de violín) de los tiempos de viaje en varias ciudades, y otra de los tiempos de trabajo en varias ciudades, y así sucesivamente para diferentes actividades diarias.</p></li>
<li><p>A veces, solo tiene que comprometerse con visualizaciones complejas y pesadas de datos.</p></li>
</ul>
</section></section>
<section><section id="visualizando-el-desastre-del-titanic." class="titleslide slide level1" data-transition="zoom"><h1>Visualizando el desastre del Titanic.</h1></section><section id="visualizando-el-desastre-del-titanic.-1" class="slide level2" data-transition="zoom">
<h2>Visualizando el desastre del Titanic.</h2>
<p><img src="images/significanceTitanic.jpg" width="30%" /></p>
<p><a href="https://rss.onlinelibrary.wiley.com/toc/17409713/2019/16/1">Significance: February 2019 - Volume 16, Issue 1 Link</a></p>
</section><section id="visualizando-el-desastre-del-titanic.-2" class="slide level2" data-transition="zoom">
<h2>Visualizando el desastre del Titanic.</h2>
<ul>
<li><p>El hundimiento del Buque de vapor del Correo Real Titanic (Royal Mail Steamship Titanic) es uno de los naufragios más famosos de la historia marítima.</p></li>
<li><p>Considerado como lo último en viajes transatlánticos y se decía que era “insumergible”, el Titanic chocó con un iceberg el 14 de abril de 1912 en su viaje inaugural y se hundió poco después del 15 de abril, matando a 1502 de 2224 pasajeros y tripulantes.</p></li>
</ul>
</section><section id="visualizando-el-desastre-del-titanic.-3" class="slide level2" data-transition="zoom">
<h2>Visualizando el desastre del Titanic.</h2>
<ul>
<li>El hundimiento del Titanic no es el más grande en términos de vidas perdidas. Pero es el que se ha documentado más detalladamente: en informes gubernamentales y relatos personales de sobrevivientes, y en numerosos libros y varias películas populares.</li>
</ul>
</section><section id="visualizando-el-desastre-del-titanic.-4" class="slide level2" data-transition="zoom">
<h2>Visualizando el desastre del Titanic.</h2>
<ul>
<li>Este es un legado del desastre del Titanic, pero dejó otro: una gran cantidad de datos, que incluyen detalles de los pasajeros y la tripulación, muchos de ellos con nombres, edades, clase de pasajeros e incluso números de cabina para aquellos en primera y segunda clase.</li>
</ul>
</section><section id="visualizando-el-desastre-del-titanic.-5" class="slide level2" data-transition="zoom">
<h2>Visualizando el desastre del Titanic.</h2>
<ul>
<li><p>Se descubrió un gráfico realizado poco tiempo después del accidente que muestra la supervivencia entre los pasajeros y la tripulación del Titanic, publicados menos de un mes después del desastre.</p></li>
<li><p>Este gráfico tenía un aspecto sorprendentemente moderno.</p></li>
</ul>
</section><section id="visualizando-el-desastre-del-titanic.-6" class="slide level2" data-transition="zoom">
<h2>Visualizando el desastre del Titanic.</h2>
<div id="left">
<p><img src="images/significanceTitanic2.jpg" width="65%" /></p>
<span style="color:yellow"> <a href="https://www.dropbox.com/s/dty0vv7i9wyazsq/Friendly_et_al-2019-Significance.pdf?dl=0">Link en PDF</a>
</p>
</div>
<div id="right">
<ul>
<li>Hoy, podríamos describir esto como una forma temprana de un diagrama de mosaico, o como una matriz de gráficos de barras consecutivas de área proporcional.</li>
</ul>
</div>
</section><section id="los-datos-del-titanic." class="slide level2" data-transition="zoom">
<h2>Los datos del Titanic.</h2>
<ul>
<li><p>Las principales fuentes de datos sobre el Titanic provienen de investigaciones oficiales lanzadas en Gran Bretaña y los Estados Unidos. (Los documentos completos se pueden encontrar en <a href="titanicinquiry.org" class="uri">titanicinquiry.org</a>).</p></li>
<li><p>Poco después del desastre, el Parlamento británico autorizó a la Junta Británica de Investigación del Comercio con Lord Mersey como presidente.</p></li>
</ul>
</section><section id="los-datos-del-titanic.-1" class="slide level2" data-transition="zoom">
<h2>Los datos del Titanic.</h2>
<ul>
<li>El comité entrevistó a más de 100 testigos durante más de 36 días de audiencias. Su informe, publicado el 30 de julio de 1912, contenía extensas tablas de pasajeros y tripulación, desglosadas por grupo de edad, género, clase y supervivencia, así como detalles sobre el lanzamiento de los 20 botes salvavidas.</li>
</ul>
</section><section id="los-datos-del-titanic.-2" class="slide level2" data-transition="zoom">
<h2>Los datos del Titanic.</h2>
<ul>
<li>En abril-mayo de 1912 se inició una investigación similar en el Senado de los Estados Unidos, que entrevistó a 82 testigos durante 18 días. Entre otras cosas, el informe (más de 1000 páginas) contenía listas de los nombres y direcciones de la mayoría de los pasajeros y la tripulación.</li>
</ul>
</section><section id="los-datos-del-titanic.-3" class="slide level2" data-transition="zoom">
<h2>Los datos del Titanic.</h2>
<ul>
<li><p>Por lo que sabemos, el primer conjunto de datos públicos apareció en 1995 en un artículo de Robert Dawson, titulado “Los episodios inusuales” datos revisados, en el <a href="http://jse.amstat.org/v3n3/datasets.dawson.html">Journal of Statistics Education</a>.</p></li>
<li><p>El conjunto de datos contiene 2201 observaciones y las variables Clase, Edad, Sexo y Sobrevivencia.</p></li>
</ul>
</section><section id="los-datos-del-titanic.-4" class="slide level2" data-transition="zoom" data-background="#2A7D53">
<h2>Los datos del Titanic.</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
ttsv1 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;titanic.dat.txt&quot;</span>)
<span class="kw">colnames</span>(ttsv1) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Class&quot;</span>, <span class="st">&quot;Age&quot;</span>, <span class="st">&quot;Sex&quot;</span>, <span class="st">&quot;Survive&quot;</span>)
<span class="kw">head</span>(ttsv1)</code></pre></div>
<pre><code>##   Class Age Sex Survive
## 1     1   1   1       1
## 2     1   1   1       1
## 3     1   1   1       1
## 4     1   1   1       1
## 5     1   1   1       1
## 6     1   1   1       1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#1.El número total de pasajeros en el conjunto. </span>
<span class="co">#Seleccioné la categoría Clase y conté el número de pasajeros.</span>
totalpass &lt;-<span class="st"> </span><span class="kw">count</span> (<span class="kw">select</span> (ttsv1, Class))
totalpass</code></pre></div>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1  2201</code></pre>
</section><section id="los-datos-del-titanic.-5" class="slide level2" data-transition="zoom" data-background="#2A7D53">
<h2>Los datos del Titanic.</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#2. La proporción de pasajeros que sobreviven. Agrupé los</span>
<span class="co">#datos por la categoría Sobrevivir, luego los resumí y creé </span>
<span class="co">#una nueva variable para calcular la proporción.</span>

finpropsurv &lt;-<span class="st"> </span><span class="kw">group_by</span>(ttsv1, Survive) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span> (<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span> (<span class="dt">prop =</span> n<span class="op">/</span><span class="kw">sum</span> (n))
finpropsurv</code></pre></div>
<pre><code>## # A tibble: 2 x 3
##   Survive     n  prop
##     &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
## 1       0  1490 0.677
## 2       1   711 0.323</code></pre>
</section><section id="los-datos-del-titanic.-6" class="slide level2" data-transition="zoom" data-background="#2A7D53">
<h2>Los datos del Titanic.</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#3. La proporción de pasajeros que sobreviven para cada clase. </span>
<span class="co">#Se agrupo los datos por las categorías Clase y Sobrevivir, luego fueron resumidos </span>
<span class="co">#para crear una nueva variable para calcular la proporción.</span>
propsurvclass &lt;-<span class="st"> </span><span class="kw">group_by</span>(ttsv1, Class, Survive <span class="op">==</span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span> (<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span> (<span class="dt">prop =</span> n<span class="op">/</span><span class="kw">sum</span> (n))
propsurvclass</code></pre></div>
<pre><code>## # A tibble: 8 x 4
## # Groups:   Class [4]
##   Class `Survive == 1`     n  prop
##   &lt;int&gt; &lt;lgl&gt;          &lt;int&gt; &lt;dbl&gt;
## 1     0 FALSE            673 0.760
## 2     0 TRUE             212 0.240
## 3     1 FALSE            122 0.375
## 4     1 TRUE             203 0.625
## 5     2 FALSE            167 0.586
## 6     2 TRUE             118 0.414
## 7     3 FALSE            528 0.748
## 8     3 TRUE             178 0.252</code></pre>
</section><section id="los-datos-del-titanic.-7" class="slide level2" data-transition="zoom" data-background="#2A7D53">
<h2>Los datos del Titanic.</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#4. La proporción de pasajeros que sobreviven por cada sexo. Agrupé</span>
<span class="co">#los datos por categorías de Sexo y Sobrevivir, luego los resumí y creé </span>
<span class="co">#una nueva variable para calcular la proporción. Los siguientes datos </span>
<span class="co">#indican que las mujeres tenían la tasa de supervivencia más alta.</span>

propsurvsex &lt;-<span class="st"> </span><span class="kw">group_by</span> (ttsv1, Sex, Survive <span class="op">==</span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span> (<span class="dt">n=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span> (<span class="dt">prop =</span> n<span class="op">/</span><span class="kw">sum</span> (n))
propsurvsex</code></pre></div>
<pre><code>## # A tibble: 4 x 4
## # Groups:   Sex [2]
##     Sex `Survive == 1`     n  prop
##   &lt;int&gt; &lt;lgl&gt;          &lt;int&gt; &lt;dbl&gt;
## 1     0 FALSE            126 0.268
## 2     0 TRUE             344 0.732
## 3     1 FALSE           1364 0.788
## 4     1 TRUE             367 0.212</code></pre>
</section><section id="los-datos-del-titanic.-8" class="slide level2" data-transition="zoom" data-background="#2A7D53">
<h2>Los datos del Titanic.</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#5. La proporción de pasajeros que sobreviven por cada grupo de edad. </span>
<span class="co">#Agrupé los datos por categorías de Edad y Sobrevivir, luego los resumí </span>
<span class="co">#y creé una nueva variable para calcular la proporción. Los datos a </span>
<span class="co">#continuación indican que los adultos tuvieron la tasa de supervivencia más baja.</span>
propsurvage &lt;-<span class="st"> </span><span class="kw">group_by</span>(ttsv1, Age, Survive <span class="op">==</span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span> (<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span> (<span class="dt">prop =</span> n<span class="op">/</span><span class="kw">sum</span> (n))
propsurvage</code></pre></div>
<pre><code>## # A tibble: 4 x 4
## # Groups:   Age [2]
##     Age `Survive == 1`     n  prop
##   &lt;int&gt; &lt;lgl&gt;          &lt;int&gt; &lt;dbl&gt;
## 1     0 FALSE             52 0.477
## 2     0 TRUE              57 0.523
## 3     1 FALSE           1438 0.687
## 4     1 TRUE             654 0.313</code></pre>
</section><section id="los-datos-del-titanic.-9" class="slide level2" data-transition="zoom" data-background="#2A7D53">
<h2>Los datos del Titanic.</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#6. La proporción de pasajeros que sobreviven por cada categoría de edad/sexo.</span>
<span class="co">#Agrupé los datos por categorías de Edad, Sexo y Sobrevivencia, luego los</span>
<span class="co">#resumí y creé una nueva variable para calcular la proporción. </span>
<span class="co">#Los datos a continuación indican que la hembra adulta tenía más probabilidades de sobrevivir y el macho adulto tenía menos probabilidades de sobrevivir.</span>
propsurvagesex &lt;-<span class="st"> </span><span class="kw">group_by</span>(ttsv1, Age, Sex, Survive <span class="op">==</span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span> (<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span> (<span class="dt">prop =</span> n<span class="op">/</span><span class="kw">sum</span> (n))
propsurvagesex</code></pre></div>
<pre><code>## # A tibble: 8 x 5
## # Groups:   Age, Sex [4]
##     Age   Sex `Survive == 1`     n  prop
##   &lt;int&gt; &lt;int&gt; &lt;lgl&gt;          &lt;int&gt; &lt;dbl&gt;
## 1     0     0 FALSE             17 0.378
## 2     0     0 TRUE              28 0.622
## 3     0     1 FALSE             35 0.547
## 4     0     1 TRUE              29 0.453
## 5     1     0 FALSE            109 0.256
## 6     1     0 TRUE             316 0.744
## 7     1     1 FALSE           1329 0.797
## 8     1     1 TRUE             338 0.203</code></pre>
</section><section id="compilando-informacion-del-titanic." class="slide level2" data-transition="zoom">
<h2>Compilando información del Titanic.</h2>
<ul>
<li><p>En septiembre de 1995, Phillip Hind lanzó la encyclopedia-titanica.org, la primera base de datos pública disponible sobre todos los pasajeros y tripulantes a bordo del barco.</p></li>
<li><p>En ese momento, era la única lista individual razonablemente completa que daba detalles de nombre, edad real, profesión, número de cabina, número de bote salvavidas, etc.</p></li>
</ul>
</section><section id="compilando-informacion-del-titanic.-1" class="slide level2" data-transition="zoom">
<h2>Compilando información del Titanic.</h2>
<ul>
<li><p>También se incluyeron dos mascotas caninas sobrevivientes (una de ellas, Sun Yat Sen)</p></li>
<li><p>El sitio web ahora incluye fotos y biografías de muchos de los pasajeros y la tripulación.</p></li>
</ul>
</section><section id="conjunto-de-datos-del-titanic." class="slide level2" data-transition="zoom">
<h2>Conjunto de datos del Titanic.</h2>
<ul>
<li><p>El conjunto de datos con 1309 observaciones y 19 variables, incluyendo datos perdidos lo pueden descargar del siguiente <a href="https://www.dropbox.com/s/28cawa371r19ker/extended_titanic.csv?dl=0">link</a></p></li>
<li><p>Los datos del Titanic, tomados de Dawson, hicieron su primera aparición pública en un paquete de software en R, versión 0.90.1, en diciembre de 1999, expresado como una tabla de conteos de contingencia de cuatro vías, clasificada por Clase, Edad, Sexo y Sobrevivido.</p></li>
</ul>
</section><section id="conjunto-de-datos-del-titanic.-1" class="slide level2" data-transition="zoom">
<h2>Conjunto de datos del Titanic.</h2>
<ul>
<li>Una variedad de otros conjuntos de datos están disponibles en los paquetes de R contribuidos, incluyendo <code>TitanicSurvival</code> (en el paquete <code>car</code>), que proporciona detalles (nombre, sexo, edad, clase, sobrevivido) de 1309 pasajeros, y <code>Lifebotas</code> (Botes salvavidas)(en el paquete <code>vcd</code>), que proporciona datos sobre la composición y Tiempos de lanzamiento de los botes salvavidas.</li>
</ul>
</section><section id="algunos-usos-modernos." class="slide level2" data-transition="slide-in fade-out">
<h2>Algunos usos modernos.</h2>
<ul>
<li><p>Los datos de pasajeros del Titanic, divididos en muestras de entrenamiento y de prueba, también se utilizan en una competencia de predicción de Kaggle</p></li>
<li><p>La importancia del desastre y la disponibilidad de información sobre los pasajeros y la tripulación hicieron que los datos del Titanic resultaran atractivos para diversos usos.</p></li>
<li><p>La gama de disciplinas da una idea del atractivo de estos datos como un ejemplo convincente de interés popular, de un método gráfico novedoso o de una ilustración de alguna técnica estadística.</p></li>
</ul>
</section><section id="algunos-usos-modernos.-1" class="slide level2" data-transition="slide-in fade-out">
<h2>Algunos usos modernos.</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ttsv1<span class="op">$</span>Class[ttsv1<span class="op">$</span>Class<span class="op">==</span><span class="dv">0</span>] &lt;-<span class="st"> &quot;Tripulacion&quot;</span>
ttsv1<span class="op">$</span>Class[ttsv1<span class="op">$</span>Class<span class="op">==</span><span class="dv">1</span>] &lt;-<span class="st"> &quot;Primera&quot;</span>
ttsv1<span class="op">$</span>Class[ttsv1<span class="op">$</span>Class<span class="op">==</span><span class="dv">2</span>] &lt;-<span class="st"> &quot;Segunda&quot;</span>
ttsv1<span class="op">$</span>Class[ttsv1<span class="op">$</span>Class<span class="op">==</span><span class="dv">3</span>] &lt;-<span class="st"> &quot;Tercera&quot;</span>

ttsv1<span class="op">$</span>Age[ttsv1<span class="op">$</span>Age<span class="op">==</span><span class="dv">0</span>] &lt;-<span class="st"> &quot;Child&quot;</span>
ttsv1<span class="op">$</span>Age[ttsv1<span class="op">$</span>Age<span class="op">==</span><span class="dv">1</span>] &lt;-<span class="st"> &quot;Adulto&quot;</span>

ttsv1<span class="op">$</span>Sex[ttsv1<span class="op">$</span>Sex<span class="op">==</span><span class="dv">0</span>] &lt;-<span class="st"> &quot;Mujer&quot;</span>
ttsv1<span class="op">$</span>Sex[ttsv1<span class="op">$</span>Sex<span class="op">==</span><span class="dv">1</span>] &lt;-<span class="st"> &quot;Hombre&quot;</span>

ttsv1<span class="op">$</span>Survive[ttsv1<span class="op">$</span>Survive<span class="op">==</span><span class="dv">0</span>] &lt;-<span class="st"> &quot;No&quot;</span>
ttsv1<span class="op">$</span>Survive[ttsv1<span class="op">$</span>Survive<span class="op">==</span><span class="dv">1</span>] &lt;-<span class="st"> &quot;Si&quot;</span></code></pre></div>
</section><section id="algunos-usos-modernos.-2" class="slide level2" data-transition="slide-in fade-out">
<h2>Algunos usos modernos.</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(readr)
tbl &lt;-<span class="st"> </span><span class="kw">xtabs</span>(<span class="op">~</span>Survive <span class="op">+</span><span class="st"> </span>Class <span class="op">+</span><span class="st"> </span>Sex, ttsv1)
<span class="kw">ftable</span>(tbl)

<span class="kw">library</span>(vcd)
<span class="kw">mosaic</span>(tbl, <span class="dt">main =</span> <span class="st">&quot;Titanic data&quot;</span>)

<span class="kw">mosaic</span>(tbl, 
       <span class="dt">shade =</span> <span class="ot">TRUE</span>,
       <span class="dt">legend =</span> <span class="ot">TRUE</span>,
       <span class="dt">labeling_args =</span> <span class="kw">list</span>(<span class="dt">set_varnames =</span> <span class="kw">c</span>(<span class="dt">Sex =</span> <span class="st">&quot;Gender&quot;</span>,
                                             <span class="dt">Survived =</span> <span class="st">&quot;Survived&quot;</span>,
                                             <span class="dt">Class =</span> <span class="st">&quot;Passenger Class&quot;</span>)),
       <span class="dt">set_labels =</span> <span class="kw">list</span>(<span class="dt">Survived =</span> <span class="kw">c</span>(<span class="st">&quot;No&quot;</span>, <span class="st">&quot;Si&quot;</span>),
                         <span class="dt">Class =</span> <span class="kw">c</span>(<span class="st">&quot;Primera&quot;</span>, <span class="st">&quot;Segunda&quot;</span>, <span class="st">&quot;Tercera&quot;</span>, <span class="st">&quot;Tripulación&quot;),</span>
<span class="st">                         Sex = c(&quot;</span>Mujer<span class="st">&quot;, &quot;</span>Hombre<span class="st">&quot;)),</span>
<span class="st">       main = &quot;</span>Titanic data<span class="st">&quot;)</span></code></pre></div>
</section><section id="algunos-usos-modernos.-3" class="slide level2" data-transition="slide-in fade-out">
<h2>Algunos usos modernos.</h2>
<pre><code>##                     Sex Hombre Mujer
## Survive Class                       
## No      Primera            118     4
##         Segunda            154    13
##         Tercera            422   106
##         Tripulacion        670     3
## Si      Primera             62   141
##         Segunda             25    93
##         Tercera             88    90
##         Tripulacion        192    20</code></pre>
</section><section id="algunos-usos-modernos.-4" class="slide level2" data-transition="slide-in fade-out">
<h2>Algunos usos modernos.</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-10-1.png" width="768" /></p>
</section><section id="algunos-usos-modernos.-5" class="slide level2" data-transition="slide-in fade-out">
<h2>Algunos usos modernos.</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-11-1.png" width="768" /></p>
</section><section id="algunos-usos-modernos.-6" class="slide level2" data-transition="slide-in fade-out">
<h2>Algunos usos modernos.</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tbl2 &lt;-<span class="st"> </span><span class="kw">xtabs</span>(<span class="op">~</span>Survive <span class="op">+</span><span class="st"> </span>Class <span class="op">+</span><span class="st"> </span>Sex <span class="op">+</span><span class="st"> </span>Age, ttsv1)
<span class="kw">mosaic</span>(tbl2, <span class="dt">main =</span> <span class="st">&quot;Titanic data&quot;</span>)</code></pre></div>
</section><section id="algunos-usos-modernos.-7" class="slide level2" data-transition="slide-in fade-out">
<h2>Algunos usos modernos.</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-12-1.png" width="768" /></p>
</section><section id="algunos-usos-modernos.-8" class="slide level2" data-transition="slide-in fade-out">
<h2>Algunos usos modernos.</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-13-1.png" width="768" /></p>
</section></section>
<section><section id="visualizando-datos-multivariados" class="titleslide slide level1"><h1>Visualizando datos multivariados</h1></section><section id="leyendo-datos-multivariados" class="slide level2">
<h2>Leyendo datos multivariados</h2>
<ul>
<li><p>Lo primero que se querrá hacer para analizar los datos multivariados será leerlos en R y graficar los datos. Puede leer datos en R usando la función <code>read.table()</code>.</p></li>
<li><p>Por ejemplo, el archivo (<a href="http://archive.ics.uci.edu/ml/machine-learning-databases/wine/wine.data" class="uri">http://archive.ics.uci.edu/ml/machine-learning-databases/wine/wine.data</a>)[<a href="http://archive.ics.uci.edu/ml/machine-learning-databases/wine/wine.data" class="uri">http://archive.ics.uci.edu/ml/machine-learning-databases/wine/wine.data</a>] contiene datos sobre concentraciones de 13 productos químicos diferentes en vinos cultivados en la misma región en Italia que se derivan de tres cultivares diferentes.</p></li>
</ul>
</section><section id="leyendo-datos-multivariados-1" class="slide level2">
<h2>Leyendo datos multivariados</h2>
<ul>
<li><p>Hay una fila por muestra de vino. La primera columna contiene el cultivar de una muestra de vino (etiquetados como 1, 2 o 3), y las siguientes trece columnas contienen las concentraciones de los 13 químicos diferentes en esa muestra. Las columnas están separadas por comas.</p></li>
<li><p>Cuando leemos el archivo en R usando la función <code>read.table()</code>, necesitamos usar el argumento “sep =” en <code>read.table()</code> para decirle que las columnas están separadas por comas.</p></li>
</ul>
</section><section id="leyendop-datos-multivariados" class="slide level2">
<h2>Leyendop datos multivariados</h2>
<ul>
<li>Es decir, podemos leer el archivo usando la función <code>read.table()</code> de la siguiente manera:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wine &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;http://archive.ics.uci.edu/ml/machine-learning-databases/wine/wine.data&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>)
<span class="kw">head</span>(wine)</code></pre></div>
<pre><code>##   V1    V2   V3   V4   V5  V6   V7   V8   V9  V10  V11  V12  V13  V14
## 1  1 14.23 1.71 2.43 15.6 127 2.80 3.06 0.28 2.29 5.64 1.04 3.92 1065
## 2  1 13.20 1.78 2.14 11.2 100 2.65 2.76 0.26 1.28 4.38 1.05 3.40 1050
## 3  1 13.16 2.36 2.67 18.6 101 2.80 3.24 0.30 2.81 5.68 1.03 3.17 1185
## 4  1 14.37 1.95 2.50 16.8 113 3.85 3.49 0.24 2.18 7.80 0.86 3.45 1480
## 5  1 13.24 2.59 2.87 21.0 118 2.80 2.69 0.39 1.82 4.32 1.04 2.93  735
## 6  1 14.20 1.76 2.45 15.2 112 3.27 3.39 0.34 1.97 6.75 1.05 2.85 1450</code></pre>
<ul>
<li>En este caso, los datos de 178 muestras de vino se han leído en la variable “vino”.</li>
</ul>
</section><section id="visualizando-datos-multivariados-1" class="slide level2">
<h2>Visualizando datos multivariados</h2>
<ul>
<li><p>Una forma común de trazar datos multivariados es hacer un “diagrama de dispersión matricial”, que muestre cada par de variables trazadas una contra la otra.</p></li>
<li><p>Podemos usar la función <code>scatterplotMatrix()</code> del paquete “car” R para hacer esto. Para usar esta función, primero necesitamos instalar el paquete R de “auto”</p></li>
<li><p>Una vez que haya instalado el paquete <code>car</code> del R, puede cargar el paquete “car” R escribiendo:</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;car&quot;</span>)</code></pre></div>
</section><section id="visualizando-datos-multivariados-2" class="slide level2">
<h2>Visualizando datos multivariados</h2>
<ul>
<li><p>Para usar la función <code>scatterplotMatrix()</code>, debe darle como entrada las variables que desea incluir en la gráfica.</p></li>
<li><p>Digamos, por ejemplo, que solo queremos incluir las variables correspondientes a las concentraciones de los primeros cinco productos químicos. Estos se almacenan en las columnas 2-6 de la variable “vino”.</p></li>
<li><p>Podemos extraer solo estas columnas de la variable “vino” escribiendo:</p></li>
</ul>
</section><section id="visualizando-datos-multivariados-3" class="slide level2">
<h2>Visualizando datos multivariados</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wine[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,<span class="dv">2</span><span class="op">:</span><span class="dv">6</span>]</code></pre></div>
<pre><code>##       V2   V3   V4   V5  V6
## 1  14.23 1.71 2.43 15.6 127
## 2  13.20 1.78 2.14 11.2 100
## 3  13.16 2.36 2.67 18.6 101
## 4  14.37 1.95 2.50 16.8 113
## 5  13.24 2.59 2.87 21.0 118
## 6  14.20 1.76 2.45 15.2 112
## 7  14.39 1.87 2.45 14.6  96
## 8  14.06 2.15 2.61 17.6 121
## 9  14.83 1.64 2.17 14.0  97
## 10 13.86 1.35 2.27 16.0  98</code></pre>
<ul>
<li>Para hacer un diagrama de dispersión matricial de solo estas 13 variables usando la función <code>scatterplotMatrix()</code> escribimos:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">scatterplotMatrix</span>(wine[<span class="dv">2</span><span class="op">:</span><span class="dv">6</span>])</code></pre></div>
</section><section id="visualizando-datos-multivariados-4" class="slide level2">
<h2>Visualizando datos multivariados</h2>
<div id="left">
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-17-1.png" width="768" /></p>
<font size="5">
<p class="small">
</p>
<p></font></p>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<ul>
<li><p>En este diagrama de dispersión matricial, las celdas diagonales muestran histogramas de cada una de las variables, en este caso las concentraciones de los primeros cinco químicos (variables V2, V3, V4, V5, V6).</p></li>
<li><p>Cada una de las celdas fuera de la diagonal es un diagrama de dispersión de dos de los cinco químicos, por ejemplo, la segunda celda en la primera fila es un diagrama de dispersión de V2 (eje y) contra V3 (eje x).</p></li>
</ul>
</p>
</font>
</div>
</div>
</section><section id="un-diagrama-de-dispersion-con-los-puntos-de-datos-etiquetados-por-su-grupo" class="slide level2">
<h2>Un diagrama de dispersión con los puntos de datos etiquetados por su grupo</h2>
<ul>
<li>Si ve un diagrama de dispersión interesante para dos variables en el diagrama de dispersión matricial, es posible que desee trazar ese diagrama de dispersión con más detalle, con los puntos de datos etiquetados por su grupo (su cultivar en este caso).</li>
</ul>
</section><section id="un-diagrama-de-dispersion-con-los-puntos-de-datos-etiquetados-por-su-grupo-1" class="slide level2">
<h2>Un diagrama de dispersión con los puntos de datos etiquetados por su grupo</h2>
<ul>
<li><p>Por ejemplo, en el diagrama de dispersión de la matriz anterior, la celda en la tercera columna de la cuarta fila hacia abajo es un diagrama de dispersión de V5 (eje x) contra V4 (eje y).</p></li>
<li><p>Si observa este diagrama de dispersión, parece que puede haber una relación positiva entre V5 y V4.</p></li>
</ul>
</section><section id="un-diagrama-de-dispersion-con-los-puntos-de-datos-etiquetados-por-su-grupo-2" class="slide level2">
<h2>Un diagrama de dispersión con los puntos de datos etiquetados por su grupo</h2>
<ul>
<li><p>Por lo tanto, podemos decidir examinar la relación entre V5 y V4 más de cerca, trazando un diagrama de dispersión de estas dos variables, con los puntos de datos etiquetados por su grupo (su cultivar).</p></li>
<li><p>Para trazar un diagrama de dispersión de dos variables, podemos usar la función R del “trazado”. Las variables V4 y V5 se almacenan en las columnas V4 y V5 de la variable “vino”, por lo que se puede acceder escribiendo vino $ V4 o vino $ V5. Por lo tanto, para trazar el diagrama de dispersión, escribimos:</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(wine<span class="op">$</span>V4, wine<span class="op">$</span>V5)</code></pre></div>
</section><section id="un-diagrama-de-dispersion-con-los-puntos-de-datos-etiquetados-por-su-grupo-3" class="slide level2">
<h2>Un diagrama de dispersión con los puntos de datos etiquetados por su grupo</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-18-1.png" width="768" /></p>
</section><section id="un-diagrama-de-dispersion-con-los-puntos-de-datos-etiquetados-por-su-grupo-4" class="slide level2">
<h2>Un diagrama de dispersión con los puntos de datos etiquetados por su grupo</h2>
<ul>
<li>Si queremos etiquetar los puntos de datos por su grupo (el cultivar de vino aquí), podemos usar la función de “text” en R para trazar un texto al lado de cada punto de datos. En este caso, el cultivar de vino se almacena en la columna V1 de la variable “wine(vino)”, por lo que escribimos:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(wine<span class="op">$</span>V4, wine<span class="op">$</span>V5)
<span class="kw">text</span>(wine<span class="op">$</span>V4, wine<span class="op">$</span>V5, wine<span class="op">$</span>V1, <span class="dt">cex=</span><span class="fl">0.7</span>, <span class="dt">pos=</span><span class="dv">4</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</code></pre></div>
</section><section id="un-diagrama-de-dispersion-con-los-puntos-de-datos-etiquetados-por-su-grupo-5" class="slide level2">
<h2>Un diagrama de dispersión con los puntos de datos etiquetados por su grupo</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-19-1.png" width="768" /></p>
</section></section>
<section><section id="visualizando-datos-perdidos" class="titleslide slide level1"><h1>Visualizando datos perdidos</h1></section><section id="visualizandos-datos-perdidos" class="slide level2">
<h2>Visualizandos datos perdidos</h2>
<ul>
<li><p>Hay una variedad de gráficos diferentes para explorar los datos faltantes disponibles en el paquete <code>naniar</code>.</p></li>
<li><p>La vignette simplemente muestra todas las visualizaciones. Si desea saber más sobre la filosofía del paquete <code>naniar</code>, debe leer la (vignette de naniar)[<a href="http://naniar.njtierney.com/articles/getting-started-w-naniar.html" class="uri">http://naniar.njtierney.com/articles/getting-started-w-naniar.html</a>].</p></li>
</ul>
</section><section id="visualizandos-datos-perdidos-1" class="slide level2">
<h2>Visualizandos datos perdidos</h2>
<ul>
<li>Una de las primeros gráficos con las que se recomienda que se comience a explorar por primera vez los datos faltantes, es el gráfico <code>vis_miss()</code>, que se reexporta desde <code>visdat</code>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(naniar)

<span class="kw">vis_miss</span>(airquality)</code></pre></div>
</section><section id="visualizandos-datos-perdidos-2" class="slide level2">
<h2>Visualizandos datos perdidos</h2>
<div id="left">
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-20-1.png" width="768" /></p>
<font size="5">
<p class="small">
</p>
<p></font></p>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<ul>
<li>Esta gráfica proporciona una visualización específica de la cantidad de datos faltantes, que muestra en negro la ubicación de los valores faltantes y también proporciona información sobre el porcentaje general de valores faltantes en general (en la leyenda) y en cada variable.<br />

</p>
</font>
</div>
</div></li>
</ul>
</section><section id="explorando-patrones-con-upsetr" class="slide level2">
<h2>Explorando patrones con UpSetR</h2>
<ul>
<li><p>Se puede utilizar un gráfico upset del paquete <code>UpSetR</code> para visualizar los patrones de los datos perdidos, o más bien las combinaciones de falta en todos los casos.</p></li>
<li><p>Para ver que combinaciones de datos faltantes e intersecciones de faltantes entre variables, use la función <code>gg_miss_upset</code>:</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gg_miss_upset</span>(airquality)</code></pre></div>
</section><section id="explorando-patrones-con-upsetr-1" class="slide level2">
<h2>Explorando patrones con UpSetR</h2>
<div id="left">
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-21-1.png" width="768" /></p>
<font size="5">
<p class="small">
</p>
<p></font></p>
</div>
<div id="right">
<div align="justify">
<font size="5">
<p class="small">
<ul>
<li><p>El gráfico nos dice:</p>
<ul>
<li>Solo Ozone y Solar.R tienen valores faltantes.</li>
<li>La variable ozono tiene los valores más faltantes.</li>
<li>Hay 2 casos en los que tanto Solar.R como Ozone tienen valores perdidos juntos<br />

</p>
</font>
</div>
</div></li>
</ul></li>
</ul>
</section><section id="explorando-patrones-con-upsetr-2" class="slide level2">
<h2>Explorando patrones con UpSetR</h2>
<ul>
<li>Podemos explorar esto con datos más complejos, como los factores de riesgo:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gg_miss_upset</span>(riskfactors)</code></pre></div>
</section><section id="explorando-patrones-con-upsetr-3" class="slide level2">
<h2>Explorando patrones con UpSetR</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-22-1.png" width="768" /></p>
</section><section id="explorando-patrones-con-upsetr-4" class="slide level2">
<h2>Explorando patrones con UpSetR</h2>
<ul>
<li><p>La opción predeterminada de <code>gg_miss_upset</code> se toma de <code>UpSetR :: upset</code>, que consiste en utilizar hasta 5 conjuntos y hasta 40 interacciones.</p></li>
<li><p>Aquí, configurar <code>nsets = 5</code> significa mirar 5 variables y sus combinaciones.</p></li>
<li><p>El número de combinaciones o más bien las intersecciones es controlado por <code>nintersects</code>.</p></li>
</ul>
</section><section id="explorando-patrones-con-upsetr-5" class="slide level2">
<h2>Explorando patrones con UpSetR</h2>
<ul>
<li>Podría, por ejemplo, mirar toda la cantidad de variables faltantes usando <code>n_var_miss</code>:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># cuantos datos faltantes hay?</span>
<span class="kw">n_var_miss</span>(riskfactors)</code></pre></div>
<pre><code>## [1] 24</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gg_miss_upset</span>(riskfactors, <span class="dt">nsets =</span> <span class="kw">n_var_miss</span>(riskfactors))</code></pre></div>
</section><section id="explorando-patrones-con-upsetr-6" class="slide level2">
<h2>Explorando patrones con UpSetR</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-24-1.png" width="768" /></p>
</section><section id="explorando-patrones-con-upsetr-7" class="slide level2">
<h2>Explorando patrones con UpSetR</h2>
<ul>
<li><p>Si hay 40 intersecciones, se explorarán hasta 40 combinaciones de variables.</p></li>
<li><p>El número de conjuntos e intersecciones se puede cambiar al pasar los argumentos <code>nsets = 10</code> para ver 10 conjuntos de variables, y <code>nintersects = 50</code> para mirar 50 intersecciones.</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gg_miss_upset</span>(riskfactors, 
              <span class="dt">nsets =</span> <span class="dv">10</span>,
              <span class="dt">nintersects =</span> <span class="dv">50</span>)</code></pre></div>
</section><section id="explorando-patrones-con-upsetr-8" class="slide level2">
<h2>Explorando patrones con UpSetR</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-25-1.png" width="768" /></p>
</section><section id="explorando-patrones-con-upsetr-9" class="slide level2">
<h2>Explorando patrones con UpSetR</h2>
<ul>
<li>Al establecer <code>nintersects</code> en NA, se trazarán todos los conjuntos y todas las intersecciones.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gg_miss_upset</span>(riskfactors, 
              <span class="dt">nsets =</span> <span class="dv">10</span>,
              <span class="dt">nintersects =</span> <span class="ot">NA</span>)</code></pre></div>
</section><section id="explorando-patrones-con-upsetr-10" class="slide level2">
<h2>Explorando patrones con UpSetR</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-26-1.png" width="768" /></p>
</section><section id="explorando-los-mecanismos-de-los-datos-faltantes" class="slide level2">
<h2>Explorando los mecanismos de los datos faltantes</h2>
<ul>
<li><p>Hay algunas formas diferentes de explorar diferentes mecanismos y relaciones de datos faltantes.</p></li>
<li><p>Una forma incorpora el método de cambiar los valores perdidos para que puedan visualizarse en los mismos ejes que los valores regulares, y luego colorear los puntos que faltan y no los que faltan. Esto se implementa con <code>geom_miss_point()</code>.</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="co"># using regular geom_point()</span>
<span class="kw">ggplot</span>(airquality,
       <span class="kw">aes</span>(<span class="dt">x =</span> Ozone,
           <span class="dt">y =</span> Solar.R)) <span class="op">+</span>
<span class="kw">geom_point</span>()</code></pre></div>
</section><section id="explorando-los-mecanismos-de-los-datos-faltantes-1" class="slide level2">
<h2>Explorando los mecanismos de los datos faltantes</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-27-1.png" width="768" /></p>
</section><section id="explorando-los-mecanismos-de-los-datos-faltantes-2" class="slide level2">
<h2>Explorando los mecanismos de los datos faltantes</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(naniar)

<span class="co"># using  geom_miss_point()</span>
<span class="kw">ggplot</span>(airquality,
       <span class="kw">aes</span>(<span class="dt">x =</span> Ozone,
           <span class="dt">y =</span> Solar.R)) <span class="op">+</span>
<span class="st"> </span><span class="kw">geom_miss_point</span>()</code></pre></div>
</section><section id="explorando-los-mecanismos-de-los-datos-faltantes-3" class="slide level2">
<h2>Explorando los mecanismos de los datos faltantes</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-28-1.png" width="768" /></p>
</section><section id="explorando-los-mecanismos-de-los-datos-faltantes-4" class="slide level2">
<h2>Explorando los mecanismos de los datos faltantes</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Facets!</span>
<span class="kw">ggplot</span>(airquality,
       <span class="kw">aes</span>(<span class="dt">x =</span> Ozone,
           <span class="dt">y =</span> Solar.R)) <span class="op">+</span>
<span class="st"> </span><span class="kw">geom_miss_point</span>() <span class="op">+</span><span class="st"> </span>
<span class="st"> </span><span class="kw">facet_wrap</span>(<span class="op">~</span>Month)</code></pre></div>
</section><section id="explorando-los-mecanismos-de-los-datos-faltantes-5" class="slide level2">
<h2>Explorando los mecanismos de los datos faltantes</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-29-1.png" width="768" /></p>
</section><section id="resumenes-visuales-generales-de-datos-faltantes" class="slide level2">
<h2>Resúmenes visuales generales de datos faltantes</h2>
<ul>
<li><p>Aquí hay algunas funciones que proporcionan resúmenes rápidos de datos faltantes en sus datos, todos comienzan con <code>gg_miss_</code>, para que sean fáciles de recordar y de completar con pestañas.</p></li>
<li><p>Esta gráfica muestra el número de valores faltantes en cada variable en un conjunto de datos.</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gg_miss_var</span>(airquality)</code></pre></div>
</section><section id="resumenes-visuales-generales-de-datos-faltantes-1" class="slide level2">
<h2>Resúmenes visuales generales de datos faltantes</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-30-1.png" width="768" /></p>
</section><section id="resumenes-visuales-generales-de-datos-faltantes-2" class="slide level2">
<h2>Resúmenes visuales generales de datos faltantes</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw">gg_miss_var</span>(airquality) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Look at all the missing ones&quot;</span>)</code></pre></div>
</section><section id="resumenes-visuales-generales-de-datos-faltantes-3" class="slide level2">
<h2>Resúmenes visuales generales de datos faltantes</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-31-1.png" width="768" /></p>
</section><section id="resumenes-visuales-generales-de-datos-faltantes-4" class="slide level2">
<h2>Resúmenes visuales generales de datos faltantes</h2>
<ul>
<li>Si lo desea, también puede cambiar si desea mostrar el% de fallas en su lugar con <code>show_pct = TRUE</code>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gg_miss_var</span>(airquality, <span class="dt">show_pct =</span> <span class="ot">TRUE</span>)</code></pre></div>
</section><section id="resumenes-visuales-generales-de-datos-faltantes-5" class="slide level2">
<h2>Resúmenes visuales generales de datos faltantes</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-32-1.png" width="768" /></p>
</section><section id="resumenes-visuales-generales-de-datos-faltantes-6" class="slide level2">
<h2>Resúmenes visuales generales de datos faltantes</h2>
<ul>
<li>También puede trazar el número de datos faltantes en una variable agrupada por otra variable usando el argumento <code>facet</code>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gg_miss_var</span>(airquality,
            <span class="dt">facet =</span> Month)</code></pre></div>
</section><section id="resumenes-visuales-generales-de-datos-faltantes-7" class="slide level2">
<h2>Resúmenes visuales generales de datos faltantes</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-33-1.png" width="768" /></p>
</section><section id="resumenes-visuales-generales-de-datos-faltantes-8" class="slide level2">
<h2>Resúmenes visuales generales de datos faltantes</h2>
<ul>
<li><p>Esta gráfica muestra el número de faltas en cada columna, desglosado por una variable categórica del conjunto de datos.</p></li>
<li><p>Está alimentado por una declaración <code>dplyr::group_by</code> seguida de <code>miss_var_summary()</code>.</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gg_miss_fct</span>(<span class="dt">x =</span> riskfactors, <span class="dt">fct =</span> marital)</code></pre></div>
</section><section id="resumenes-visuales-generales-de-datos-faltantes-9" class="slide level2">
<h2>Resúmenes visuales generales de datos faltantes</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-34-1.png" width="768" /></p>
</section><section id="resumenes-visuales-generales-de-datos-faltantes-10" class="slide level2">
<h2>Resúmenes visuales generales de datos faltantes</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw">gg_miss_fct</span>(<span class="dt">x =</span> riskfactors, <span class="dt">fct =</span> marital) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;NA in Risk Factors and Marital status&quot;</span>)</code></pre></div>
</section><section id="resumenes-visuales-generales-de-datos-faltantes-11" class="slide level2">
<h2>Resúmenes visuales generales de datos faltantes</h2>
<p><img src="Clase1_files/figure-revealjs/unnamed-chunk-35-1.png" width="768" /></p>
</section></section>
<section><section id="referencias" class="titleslide slide level1"><h1>Referencias</h1></section><section id="referencias-1" class="slide level2">
<h2>Referencias</h2>
<ul>
<li><p><a href="https://www.kaggle.com" class="uri">https://www.kaggle.com</a></p></li>
<li><p><a href="https://rpubs.com/TThomas/resubmit" class="uri">https://rpubs.com/TThomas/resubmit</a></p></li>
<li><p><a href="https://github.com/alexisperrier/packt-aml/tree/master/ch4" class="uri">https://github.com/alexisperrier/packt-aml/tree/master/ch4</a></p></li>
<li><p><a href="https://rkabacoff.github.io/datavis/Models.html" class="uri">https://rkabacoff.github.io/datavis/Models.html</a></p></li>
</ul>
</section><section id="referencias-2" class="slide level2">
<h2>Referencias</h2>
<ul>
<li><p>Robert Grant - Data Visualization - Charts, Maps, and Interactive Graphics (2018)</p></li>
<li><p><a href="https://little-book-of-r-for-multivariate-analysis.readthedocs.io/en/latest/src/multivariateanalysis.html" class="uri">https://little-book-of-r-for-multivariate-analysis.readthedocs.io/en/latest/src/multivariateanalysis.html</a></p></li>
<li><p><a href="https://cran.r-project.org/web/packages/naniar/vignettes/naniar-visualisation.html" class="uri">https://cran.r-project.org/web/packages/naniar/vignettes/naniar-visualisation.html</a></p></li>
</ul>
</section></section>
    </div>
  </div>

  <script src="Clase1_files/reveal.js-3.3.0.1/lib/js/head.min.js"></script>
  <script src="Clase1_files/reveal.js-3.3.0.1/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Push each slide change to the browser history
        history: true,
        // Vertical centering of slides
        center: true,
        // Transition style
        transition: 'fade', // none/fade/slide/convex/concave/zoom
        // Transition style for full page slide backgrounds
        backgroundTransition: 'default', // none/fade/slide/convex/concave/zoom



        // Optional reveal.js plugins
        dependencies: [
          { src: 'Clase1_files/reveal.js-3.3.0.1/plugin/notes/notes.js', async: true },
          { src: 'Clase1_files/reveal.js-3.3.0.1/plugin/zoom-js/zoom.js', async: true },
        ]
      });
    </script>
  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

<script>
  (function() {
    if (window.jQuery) {
      Reveal.addEventListener( 'slidechanged', function(event) {  
        window.jQuery(event.previousSlide).trigger('hidden');
        window.jQuery(event.currentSlide).trigger('shown');
      });
    }
  })();
</script>


  </body>
</html>
